{
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/server.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _userRouter = _interopRequireDefault(require(\"./routes/userRouter\"));\n\nvar _productRouter = _interopRequireDefault(require(\"./routes/productRouter\"));\n\nvar _orderRouter = _interopRequireDefault(require(\"./routes/orderRouter\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst nodemailer = require('nodemailer');\n\nconst cors = require('cors');\n\nconst port = process.env.PORT || 4002;\n\n_dotenv.default.config();\n\nconst mongodbUrl = _config.default.MONGODB_URL;\n\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).catch(error => console.log(error.reason));\n\nconst app = (0, _express.default)();\napp.use(_bodyParser.default.json());\napp.use(\"/api/users\", _userRouter.default);\napp.use(\"/api/products\", _productRouter.default);\napp.use(\"/api/orders\", _orderRouter.default); // Serve static files from the React frontend app\n\napp.use(_express.default.static(_path.default.join(__dirname, 'client/build')));\napp.use(_express.default.json());\napp.use(cors());\napp.use(_express.default.urlencoded({\n  extended: false\n})); // create a GET route\n\napp.get('/express_backend', (req, res) => {\n  res.send({\n    express: 'YOUR EXPRESS BACKEND IS CONNECTED TO REACT'\n  });\n}); // email route\n\napp.use('/sendtome', require('./routes/sendToMe')); // console.log that your server is up and running\n\napp.listen(port, () => console.log(`Listening on port ${port}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsImNvcnMiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJkb3RlbnYiLCJjb25maWciLCJtb25nb2RiVXJsIiwiTU9OR09EQl9VUkwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicmVhc29uIiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1c2VyUm91dGVyIiwicHJvZHVjdFJvdXRlciIsIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsImxpc3RlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBLE1BQU1BLFVBQVUsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBMUI7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNRSxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQWpDOztBQUlBQyxnQkFBT0MsTUFBUDs7QUFFQSxNQUFNQyxVQUFVLEdBQUdELGdCQUFPRSxXQUExQjs7QUFDQUMsa0JBQVNDLE9BQVQsQ0FBaUJILFVBQWpCLEVBQTZCO0FBQzNCSSxFQUFBQSxlQUFlLEVBQUUsSUFEVTtBQUUzQkMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGTztBQUczQkMsRUFBQUEsY0FBYyxFQUFFO0FBSFcsQ0FBN0IsRUFJR0MsS0FKSCxDQUlTQyxLQUFLLElBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFLLENBQUNHLE1BQWxCLENBSmxCOztBQU1BLE1BQU1DLEdBQUcsR0FBRyx1QkFBWjtBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUVBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxZQUFSLEVBQXNCRyxtQkFBdEI7QUFDQUosR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF5Qkksc0JBQXpCO0FBQ0FMLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJLLG9CQUF2QixFLENBSUE7O0FBQ0FOLEdBQUcsQ0FBQ0MsR0FBSixDQUFRTSxpQkFBUUMsTUFBUixDQUFlQyxjQUFLQyxJQUFMLENBQVVDLFNBQVYsRUFBcUIsY0FBckIsQ0FBZixDQUFSO0FBRUFYLEdBQUcsQ0FBQ0MsR0FBSixDQUFRTSxpQkFBUUosSUFBUixFQUFSO0FBQ0FILEdBQUcsQ0FBQ0MsR0FBSixDQUFRcEIsSUFBSSxFQUFaO0FBQ0FtQixHQUFHLENBQUNDLEdBQUosQ0FBUU0saUJBQVFLLFVBQVIsQ0FBbUI7QUFBRUMsRUFBQUEsUUFBUSxFQUFFO0FBQVosQ0FBbkIsQ0FBUixFLENBRUE7O0FBQ0FiLEdBQUcsQ0FBQ2MsR0FBSixDQUFRLGtCQUFSLEVBQTRCLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hDQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBUztBQUFFVixJQUFBQSxPQUFPLEVBQUU7QUFBWCxHQUFUO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FQLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLFdBQVIsRUFBcUJyQixPQUFPLENBQUMsbUJBQUQsQ0FBNUIsRSxDQU1BOztBQUNBb0IsR0FBRyxDQUFDa0IsTUFBSixDQUFXcEMsSUFBWCxFQUFpQixNQUFNZSxPQUFPLENBQUNDLEdBQVIsQ0FBYSxxQkFBb0JoQixJQUFLLEVBQXRDLENBQXZCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBkb3RlbnYgZnJvbSdkb3RlbnYnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCB1c2VyUm91dGVyIGZyb20gJy4vcm91dGVzL3VzZXJSb3V0ZXInO1xuaW1wb3J0IHByb2R1Y3RSb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlcic7XG5pbXBvcnQgb3JkZXJSb3V0ZXIgZnJvbSAnLi9yb3V0ZXMvb3JkZXJSb3V0ZXInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuY29uc3Qgbm9kZW1haWxlciA9IHJlcXVpcmUoJ25vZGVtYWlsZXInKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJyk7XG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA0MDAyO1xuXG5cblxuZG90ZW52LmNvbmZpZygpO1xuXG5jb25zdCBtb25nb2RiVXJsID0gY29uZmlnLk1PTkdPREJfVVJMO1xubW9uZ29vc2UuY29ubmVjdChtb25nb2RiVXJsLCB7XG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcbn0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yLnJlYXNvbikpXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuXG5hcHAudXNlKFwiL2FwaS91c2Vyc1wiLCB1c2VyUm91dGVyKTtcbmFwcC51c2UoXCIvYXBpL3Byb2R1Y3RzXCIsIHByb2R1Y3RSb3V0ZXIpO1xuYXBwLnVzZShcIi9hcGkvb3JkZXJzXCIsIG9yZGVyUm91dGVyKTtcblxuXG5cbi8vIFNlcnZlIHN0YXRpYyBmaWxlcyBmcm9tIHRoZSBSZWFjdCBmcm9udGVuZCBhcHBcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ2NsaWVudC9idWlsZCcpKSlcblxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5cbi8vIGNyZWF0ZSBhIEdFVCByb3V0ZVxuYXBwLmdldCgnL2V4cHJlc3NfYmFja2VuZCcsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc2VuZCh7IGV4cHJlc3M6ICdZT1VSIEVYUFJFU1MgQkFDS0VORCBJUyBDT05ORUNURUQgVE8gUkVBQ1QnIH0pO1xufSk7XG5cbi8vIGVtYWlsIHJvdXRlXG5hcHAudXNlKCcvc2VuZHRvbWUnLCByZXF1aXJlKCcuL3JvdXRlcy9zZW5kVG9NZScpKVxuXG5cblxuXG5cbi8vIGNvbnNvbGUubG9nIHRoYXQgeW91ciBzZXJ2ZXIgaXMgdXAgYW5kIHJ1bm5pbmdcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gY29uc29sZS5sb2coYExpc3RlbmluZyBvbiBwb3J0ICR7cG9ydH1gKSk7Il19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "nodemailer",
        "require",
        "cors",
        "port",
        "process",
        "env",
        "PORT",
        "dotenv",
        "config",
        "mongodbUrl",
        "MONGODB_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "catch",
        "error",
        "console",
        "log",
        "reason",
        "app",
        "use",
        "bodyParser",
        "json",
        "userRouter",
        "productRouter",
        "orderRouter",
        "express",
        "static",
        "path",
        "join",
        "__dirname",
        "urlencoded",
        "extended",
        "get",
        "req",
        "res",
        "send",
        "listen"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AACA,MAAME,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;;AAIAC,gBAAOC,MAAP;;AAEA,MAAMC,UAAU,GAAGD,gBAAOE,WAA1B;;AACAC,kBAASC,OAAT,CAAiBH,UAAjB,EAA6B;AAC3BI,EAAAA,eAAe,EAAE,IADU;AAE3BC,EAAAA,kBAAkB,EAAE,IAFO;AAG3BC,EAAAA,cAAc,EAAE;AAHW,CAA7B,EAIGC,KAJH,CAISC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAlB,CAJlB;;AAMA,MAAMC,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AAEAH,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBG,mBAAtB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBI,sBAAzB;AACAL,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBK,oBAAvB,E,CAIA;;AACAN,GAAG,CAACC,GAAJ,CAAQM,iBAAQC,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,cAArB,CAAf,CAAR;AAEAX,GAAG,CAACC,GAAJ,CAAQM,iBAAQJ,IAAR,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQpB,IAAI,EAAZ;AACAmB,GAAG,CAACC,GAAJ,CAAQM,iBAAQK,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR,E,CAEA;;AACAb,GAAG,CAACc,GAAJ,CAAQ,kBAAR,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,IAAJ,CAAS;AAAEV,IAAAA,OAAO,EAAE;AAAX,GAAT;AACD,CAFD,E,CAIA;;AACAP,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBrB,OAAO,CAAC,mBAAD,CAA5B,E,CAMA;;AACAoB,GAAG,CAACkB,MAAJ,CAAWpC,IAAX,EAAiB,MAAMe,OAAO,CAACC,GAAR,CAAa,qBAAoBhB,IAAK,EAAtC,CAAvB",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "import express from 'express';\nimport dotenv from'dotenv';\nimport path from 'path'\nimport config from './config';\nimport mongoose from 'mongoose';\nimport userRouter from './routes/userRouter';\nimport productRouter from './routes/productRouter';\nimport orderRouter from './routes/orderRouter';\nimport bodyParser from 'body-parser';\nconst nodemailer = require('nodemailer');\nconst cors = require('cors');\nconst port = process.env.PORT || 4002;\n\n\n\ndotenv.config();\n\nconst mongodbUrl = config.MONGODB_URL;\nmongoose.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true,\n}).catch(error => console.log(error.reason))\n\nconst app = express();\napp.use(bodyParser.json());\n\napp.use(\"/api/users\", userRouter);\napp.use(\"/api/products\", productRouter);\napp.use(\"/api/orders\", orderRouter);\n\n\n\n// Serve static files from the React frontend app\napp.use(express.static(path.join(__dirname, 'client/build')))\n\napp.use(express.json());\napp.use(cors());\napp.use(express.urlencoded({ extended: false }));\n\n// create a GET route\napp.get('/express_backend', (req, res) => {\n  res.send({ express: 'YOUR EXPRESS BACKEND IS CONNECTED TO REACT' });\n});\n\n// email route\napp.use('/sendtome', require('./routes/sendToMe'))\n\n\n\n\n\n// console.log that your server is up and running\napp.listen(port, () => console.log(`Listening on port ${port}`));"
      ]
    },
    "sourceType": "script",
    "mtime": 1614530855336
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "data.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    name: 'Leave Me Alone',\n    category: 'peintures',\n    image: '/docs/leaveMeAlone.png',\n    price: 100,\n    description: 'toile aquarelle 9x12\"',\n    countInStock: 1\n  }, {\n    name: 'Vin Vilain',\n    category: 'peintures',\n    image: '/docs/vinVilain.png',\n    price: 50,\n    description: 'toile aquarelle 9x12\"',\n    countInStock: 2\n  }, {\n    name: 'Raphaelle',\n    category: 'tshirts',\n    image: '/images/alien_stade.jpg',\n    price: 70,\n    description: 'tshirts',\n    countInStock: 10\n  }, {\n    name: 'Bob et Patrick',\n    category: 'illustrations',\n    image: '/images/alien_bagel.jpg',\n    price: 70,\n    description: 'illustrations',\n    countInStock: 1\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsicHJvZHVjdHMiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZSIsInByaWNlIiwiZGVzY3JpcHRpb24iLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0FBQ2JBLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLElBQUksRUFBRSxnQkFEUjtBQUVFQyxJQUFBQSxRQUFRLEVBQUUsV0FGWjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsd0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEdBSlQ7QUFLRUMsSUFBQUEsV0FBVyxFQUFFLHVCQUxmO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQURRLEVBU1I7QUFDRUwsSUFBQUEsSUFBSSxFQUFFLFlBRFI7QUFFRUMsSUFBQUEsUUFBUSxFQUFFLFdBRlo7QUFHRUMsSUFBQUEsS0FBSyxFQUFFLHFCQUhUO0FBSUVDLElBQUFBLEtBQUssRUFBRSxFQUpUO0FBS0VDLElBQUFBLFdBQVcsRUFBRSx1QkFMZjtBQU1FQyxJQUFBQSxZQUFZLEVBQUU7QUFOaEIsR0FUUSxFQWlCUjtBQUNFTCxJQUFBQSxJQUFJLEVBQUUsV0FEUjtBQUVFQyxJQUFBQSxRQUFRLEVBQUUsU0FGWjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUseUJBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEVBSlQ7QUFLRUMsSUFBQUEsV0FBVyxFQUFFLFNBTGY7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBakJRLEVBd0JMO0FBQ0RMLElBQUFBLElBQUksRUFBRSxnQkFETDtBQUVEQyxJQUFBQSxRQUFRLEVBQUUsZUFGVDtBQUdEQyxJQUFBQSxLQUFLLEVBQUUseUJBSE47QUFJREMsSUFBQUEsS0FBSyxFQUFFLEVBSk47QUFLREMsSUFBQUEsV0FBVyxFQUFFLGVBTFo7QUFNREMsSUFBQUEsWUFBWSxFQUFFO0FBTmIsR0F4Qks7QUFERyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIHByb2R1Y3RzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ0xlYXZlIE1lIEFsb25lJyxcbiAgICAgIGNhdGVnb3J5OiAncGVpbnR1cmVzJyxcbiAgICAgIGltYWdlOiAnL2RvY3MvbGVhdmVNZUFsb25lLnBuZycsXG4gICAgICBwcmljZTogMTAwLFxuICAgICAgZGVzY3JpcHRpb246ICd0b2lsZSBhcXVhcmVsbGUgOXgxMlwiJyxcbiAgICAgIGNvdW50SW5TdG9jazogMSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdWaW4gVmlsYWluJyxcbiAgICAgIGNhdGVnb3J5OiAncGVpbnR1cmVzJyxcbiAgICAgIGltYWdlOiAnL2RvY3MvdmluVmlsYWluLnBuZycsXG4gICAgICBwcmljZTogNTAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3RvaWxlIGFxdWFyZWxsZSA5eDEyXCInLFxuICAgICAgY291bnRJblN0b2NrOiAyLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1JhcGhhZWxsZScsXG4gICAgICBjYXRlZ29yeTogJ3RzaGlydHMnLFxuICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2FsaWVuX3N0YWRlLmpwZycsXG4gICAgICBwcmljZTogNzAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3RzaGlydHMnLFxuICAgICAgY291bnRJblN0b2NrOiAxMCxcbiAgICB9LCB7XG4gICAgICBuYW1lOiAnQm9iIGV0IFBhdHJpY2snLFxuICAgICAgY2F0ZWdvcnk6ICdpbGx1c3RyYXRpb25zJyxcbiAgICAgIGltYWdlOiAnL2ltYWdlcy9hbGllbl9iYWdlbC5qcGcnLFxuICAgICAgcHJpY2U6IDcwLFxuICAgICAgZGVzY3JpcHRpb246ICdpbGx1c3RyYXRpb25zJyxcbiAgICAgIGNvdW50SW5TdG9jazogMSxcbiAgICB9LFxuICBdXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "data.js"
      ],
      "names": [
        "products",
        "name",
        "category",
        "image",
        "price",
        "description",
        "countInStock"
      ],
      "mappings": ";;;;;;eAAe;AACbA,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,IAAI,EAAE,gBADR;AAEEC,IAAAA,QAAQ,EAAE,WAFZ;AAGEC,IAAAA,KAAK,EAAE,wBAHT;AAIEC,IAAAA,KAAK,EAAE,GAJT;AAKEC,IAAAA,WAAW,EAAE,uBALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EASR;AACEL,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,QAAQ,EAAE,WAFZ;AAGEC,IAAAA,KAAK,EAAE,qBAHT;AAIEC,IAAAA,KAAK,EAAE,EAJT;AAKEC,IAAAA,WAAW,EAAE,uBALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GATQ,EAiBR;AACEL,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,QAAQ,EAAE,SAFZ;AAGEC,IAAAA,KAAK,EAAE,yBAHT;AAIEC,IAAAA,KAAK,EAAE,EAJT;AAKEC,IAAAA,WAAW,EAAE,SALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAjBQ,EAwBL;AACDL,IAAAA,IAAI,EAAE,gBADL;AAEDC,IAAAA,QAAQ,EAAE,eAFT;AAGDC,IAAAA,KAAK,EAAE,yBAHN;AAIDC,IAAAA,KAAK,EAAE,EAJN;AAKDC,IAAAA,WAAW,EAAE,eALZ;AAMDC,IAAAA,YAAY,EAAE;AANb,GAxBK;AADG,C",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "export default {\n  products: [\n    {\n      name: 'Leave Me Alone',\n      category: 'peintures',\n      image: '/docs/leaveMeAlone.png',\n      price: 100,\n      description: 'toile aquarelle 9x12\"',\n      countInStock: 1,\n    },\n    {\n      name: 'Vin Vilain',\n      category: 'peintures',\n      image: '/docs/vinVilain.png',\n      price: 50,\n      description: 'toile aquarelle 9x12\"',\n      countInStock: 2,\n    },\n    {\n      name: 'Raphaelle',\n      category: 'tshirts',\n      image: '/images/alien_stade.jpg',\n      price: 70,\n      description: 'tshirts',\n      countInStock: 10,\n    }, {\n      name: 'Bob et Patrick',\n      category: 'illustrations',\n      image: '/images/alien_bagel.jpg',\n      price: 70,\n      description: 'illustrations',\n      countInStock: 1,\n    },\n  ]\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614566263705
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbXX0=",
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": []
    },
    "sourceType": "script",
    "mtime": 1614268839266
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst pg = require('pg');\n\nrequire('dotenv').config();\n\nconst connectionString = `postgres://${process.env.DB_USER}:${process.env.DB_PASS}@${process.env.DB_HOST}:${process.env.DB_PORT}/${process.env.DB_NAME}?sslmode=disable`;\nconst client = new pg.Client({\n  connectionString: connectionString || process.env.DATABASE_URL\n});\nconsole.log(`Connected to ${process.env.DB_NAME} on ${process.env.DB_HOST}`);\nclient.connect();\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBnIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1MiLCJEQl9IT1NUIiwiREJfUE9SVCIsIkRCX05BTUUiLCJjbGllbnQiLCJDbGllbnQiLCJEQVRBQkFTRV9VUkwiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUksY0FBYUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLE9BQVEsSUFBR0gsT0FBTyxDQUFDQyxHQUFSLENBQVlHLE9BQVEsSUFBR0osT0FBTyxDQUFDQyxHQUFSLENBQVlJLE9BQVEsSUFBR0wsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BQVEsa0JBQXZKO0FBRUEsTUFBTUMsTUFBTSxHQUFHLElBQUlYLEVBQUUsQ0FBQ1ksTUFBUCxDQUFjO0FBQ3pCVCxFQUFBQSxnQkFBZ0IsRUFBRUEsZ0JBQWdCLElBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUTtBQUR6QixDQUFkLENBQWY7QUFJQUMsT0FBTyxDQUFDQyxHQUFSLENBQWMsZ0JBQWVYLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxPQUFRLE9BQU1OLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxPQUFRLEVBQTNFO0FBQ0FHLE1BQU0sQ0FBQ0ssT0FBUDtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9kYi8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwZyA9IHJlcXVpcmUoJ3BnJyk7XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBgcG9zdGdyZXM6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU31AJHtwcm9jZXNzLmVudi5EQl9IT1NUfToke3Byb2Nlc3MuZW52LkRCX1BPUlR9LyR7cHJvY2Vzcy5lbnYuREJfTkFNRX0/c3NsbW9kZT1kaXNhYmxlYCA7XG5cbmNvbnN0IGNsaWVudCA9IG5ldyBwZy5DbGllbnQoe1xuICAgIGNvbm5lY3Rpb25TdHJpbmc6IGNvbm5lY3Rpb25TdHJpbmcgfHwgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxufSk7XG5cbmNvbnNvbGUubG9nKCBgQ29ubmVjdGVkIHRvICR7cHJvY2Vzcy5lbnYuREJfTkFNRX0gb24gJHtwcm9jZXNzLmVudi5EQl9IT1NUfWAgKTtcbmNsaWVudC5jb25uZWN0KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xpZW50OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "pg",
        "require",
        "config",
        "connectionString",
        "process",
        "env",
        "DB_USER",
        "DB_PASS",
        "DB_HOST",
        "DB_PORT",
        "DB_NAME",
        "client",
        "Client",
        "DATABASE_URL",
        "console",
        "log",
        "connect",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAMC,gBAAgB,GAAI,cAAaC,OAAO,CAACC,GAAR,CAAYC,OAAQ,IAAGF,OAAO,CAACC,GAAR,CAAYE,OAAQ,IAAGH,OAAO,CAACC,GAAR,CAAYG,OAAQ,IAAGJ,OAAO,CAACC,GAAR,CAAYI,OAAQ,IAAGL,OAAO,CAACC,GAAR,CAAYK,OAAQ,kBAAvJ;AAEA,MAAMC,MAAM,GAAG,IAAIX,EAAE,CAACY,MAAP,CAAc;AACzBT,EAAAA,gBAAgB,EAAEA,gBAAgB,IAAIC,OAAO,CAACC,GAAR,CAAYQ;AADzB,CAAd,CAAf;AAIAC,OAAO,CAACC,GAAR,CAAc,gBAAeX,OAAO,CAACC,GAAR,CAAYK,OAAQ,OAAMN,OAAO,CAACC,GAAR,CAAYG,OAAQ,EAA3E;AACAG,MAAM,CAACK,OAAP;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
      "sourcesContent": [
        "const pg = require('pg');\nrequire('dotenv').config();\nconst connectionString = `postgres://${process.env.DB_USER}:${process.env.DB_PASS}@${process.env.DB_HOST}:${process.env.DB_PORT}/${process.env.DB_NAME}?sslmode=disable` ;\n\nconst client = new pg.Client({\n    connectionString: connectionString || process.env.DATABASE_URL,\n});\n\nconsole.log( `Connected to ${process.env.DB_NAME} on ${process.env.DB_HOST}` );\nclient.connect();\n\nmodule.exports = client;"
      ]
    },
    "sourceType": "script",
    "mtime": 1613358292003
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
        "sourceFileName": "dbhelpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = db => {\n  const getProducts = () => {\n    const query = {\n      text: `SELECT * FROM products`\n    };\n    return db.query(query).then(result => result.rows).catch(err => err);\n  };\n\n  return {\n    getProducts\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZGIiLCJnZXRQcm9kdWN0cyIsInF1ZXJ5IiwidGV4dCIsInRoZW4iLCJyZXN1bHQiLCJyb3dzIiwiY2F0Y2giLCJlcnIiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsRUFBRCxJQUFRO0FBRXZCLFFBQU1DLFdBQVcsR0FBRyxNQUFNO0FBQ3hCLFVBQU1DLEtBQUssR0FBRztBQUNWQyxNQUFBQSxJQUFJLEVBQUc7QUFERyxLQUFkO0FBSUEsV0FBT0gsRUFBRSxDQUFDRSxLQUFILENBQVNBLEtBQVQsRUFDRkUsSUFERSxDQUNHQyxNQUFNLElBQUlBLE1BQU0sQ0FBQ0MsSUFEcEIsRUFFRkMsS0FGRSxDQUVJQyxHQUFHLElBQUlBLEdBRlgsQ0FBUDtBQUdDLEdBUkg7O0FBVUUsU0FBTztBQUNMUCxJQUFBQTtBQURLLEdBQVA7QUFHSCxDQWZEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9oZWxwZXJzLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKGRiKSA9PiB7XG5cbiAgY29uc3QgZ2V0UHJvZHVjdHMgPSAoKSA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgIHRleHQ6IGBTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzYFxuICAgIH1cblxuICAgIHJldHVybiBkYi5xdWVyeShxdWVyeSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHJlc3VsdC5yb3dzKVxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFByb2R1Y3RzLFxuICB9O1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "dbhelpers.js"
      ],
      "names": [
        "module",
        "exports",
        "db",
        "getProducts",
        "query",
        "text",
        "then",
        "result",
        "rows",
        "catch",
        "err"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAkBC,EAAD,IAAQ;AAEvB,QAAMC,WAAW,GAAG,MAAM;AACxB,UAAMC,KAAK,GAAG;AACVC,MAAAA,IAAI,EAAG;AADG,KAAd;AAIA,WAAOH,EAAE,CAACE,KAAH,CAASA,KAAT,EACFE,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,EAEFC,KAFE,CAEIC,GAAG,IAAIA,GAFX,CAAP;AAGC,GARH;;AAUE,SAAO;AACLP,IAAAA;AADK,GAAP;AAGH,CAfD",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
      "sourcesContent": [
        "module.exports = (db) => {\n\n  const getProducts = () => {\n    const query = {\n        text: `SELECT * FROM products`\n    }\n\n    return db.query(query)\n        .then(result => result.rows)\n        .catch(err => err);\n    }\n\n    return {\n      getProducts,\n  };\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1613421535222
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "sendToMe.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst sendToMeRouter = express.Router();\n\nconst nodemailer = require('nodemailer');\n\nconst {\n  google\n} = require('googleapis');\n\nconst OAuth2 = google.auth.OAuth2;\nconsole.log(\"from sendToMe\");\nconst oauth2Client = new OAuth2(process.env.GMAIL_CLIENTID, // ClientID\nprocess.env.GMAIL_CLIENTSECRET, // Client Secret\n\"https://developers.google.com/oauthplayground\" // Redirect URL\n);\noauth2Client.setCredentials({\n  refresh_token: process.env.GMAIL_REFRESH_TOKEN\n});\nconst accessToken = oauth2Client.getAccessToken(); //all of the configuration for making a site send an email.\n\nconst transport = {\n  // host: \"smtp.gmail.com\",\n  // port: 587,\n  // secure: false,\n  service: \"gmail\",\n  auth: {\n    type: \"OAuth2\",\n    user: process.env.GMAIL_ACC,\n    clientId: process.env.GMAIL_CLIENTID,\n    clientSecret: process.env.GMAIL_CLIENTSECRET,\n    refreshToken: process.env.GMAIL_REFRESH_TOKEN,\n    accessToken: accessToken,\n    tls: {\n      rejectUnauthorized: false\n    }\n  }\n};\nconst transporter = nodemailer.createTransport(transport);\ntransporter.verify((error, success) => {\n  if (error) {\n    //if error happened code ends here\n    console.error(error);\n  } else {\n    //this means success\n    console.log('users ready to mail myself');\n  }\n});\nsendToMeRouter.post('/', (req, res, next) => {\n  //make mailable object\n  const mail = {\n    from: `${req.body.email}`,\n    to: 'paquetraphaelle@gmail.com',\n    subject: req.body.subject,\n    text: `\n      from:\n      ${req.body.name} \n\n      contact: \n      ${req.body.email}\n\n      message: \n\n      ${req.body.text}`\n  }; // error handling goes here. \n\n  transporter.sendMail(mail, (err, data) => {\n    if (err) {\n      res.json({\n        status: 'fail'\n      });\n    } else {\n      res.json({\n        status: 'success'\n      });\n    }\n  });\n});\nmodule.exports = sendToMeRouter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRUb01lLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwic2VuZFRvTWVSb3V0ZXIiLCJSb3V0ZXIiLCJub2RlbWFpbGVyIiwiZ29vZ2xlIiwiT0F1dGgyIiwiYXV0aCIsImNvbnNvbGUiLCJsb2ciLCJvYXV0aDJDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiR01BSUxfQ0xJRU5USUQiLCJHTUFJTF9DTElFTlRTRUNSRVQiLCJzZXRDcmVkZW50aWFscyIsInJlZnJlc2hfdG9rZW4iLCJHTUFJTF9SRUZSRVNIX1RPS0VOIiwiYWNjZXNzVG9rZW4iLCJnZXRBY2Nlc3NUb2tlbiIsInRyYW5zcG9ydCIsInNlcnZpY2UiLCJ0eXBlIiwidXNlciIsIkdNQUlMX0FDQyIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwicmVmcmVzaFRva2VuIiwidGxzIiwicmVqZWN0VW5hdXRob3JpemVkIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJ2ZXJpZnkiLCJlcnJvciIsInN1Y2Nlc3MiLCJwb3N0IiwicmVxIiwicmVzIiwibmV4dCIsIm1haWwiLCJmcm9tIiwiYm9keSIsImVtYWlsIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsIm5hbWUiLCJzZW5kTWFpbCIsImVyciIsImRhdGEiLCJqc29uIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGNBQWMsR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0gsT0FBTyxDQUFDLFlBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQTtBQUFGLElBQWFKLE9BQU8sQ0FBQyxZQUFELENBQTFCOztBQUNBLE1BQU1LLE1BQU0sR0FBR0QsTUFBTSxDQUFDRSxJQUFQLENBQVlELE1BQTNCO0FBRUFFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFFQSxNQUFNQyxZQUFZLEdBQUcsSUFBSUosTUFBSixDQUNuQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBRE8sRUFDUztBQUM1QkYsT0FBTyxDQUFDQyxHQUFSLENBQVlFLGtCQUZPLEVBRWE7QUFDaEMsK0NBSG1CLENBRzZCO0FBSDdCLENBQXJCO0FBTUFKLFlBQVksQ0FBQ0ssY0FBYixDQUE0QjtBQUMxQkMsRUFBQUEsYUFBYSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFERCxDQUE1QjtBQUdBLE1BQU1DLFdBQVcsR0FBR1IsWUFBWSxDQUFDUyxjQUFiLEVBQXBCLEMsQ0FHQTs7QUFDQSxNQUFNQyxTQUFTLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0FDLEVBQUFBLE9BQU8sRUFBQyxPQUpRO0FBS2hCZCxFQUFBQSxJQUFJLEVBQUU7QUFDSmUsSUFBQUEsSUFBSSxFQUFFLFFBREY7QUFFSkMsSUFBQUEsSUFBSSxFQUFFWixPQUFPLENBQUNDLEdBQVIsQ0FBWVksU0FGZDtBQUdKQyxJQUFBQSxRQUFRLEVBQUVkLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxjQUhsQjtBQUlKYSxJQUFBQSxZQUFZLEVBQUVmLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxrQkFKdEI7QUFLSmEsSUFBQUEsWUFBWSxFQUFFaEIsT0FBTyxDQUFDQyxHQUFSLENBQVlLLG1CQUx0QjtBQU1KQyxJQUFBQSxXQUFXLEVBQUVBLFdBTlQ7QUFPSlUsSUFBQUEsR0FBRyxFQUFFO0FBQ0hDLE1BQUFBLGtCQUFrQixFQUFFO0FBRGpCO0FBUEQ7QUFMVSxDQUFsQjtBQWtCQSxNQUFNQyxXQUFXLEdBQUcxQixVQUFVLENBQUMyQixlQUFYLENBQTJCWCxTQUEzQixDQUFwQjtBQUNFVSxXQUFXLENBQUNFLE1BQVosQ0FBbUIsQ0FBQ0MsS0FBRCxFQUFRQyxPQUFSLEtBQW9CO0FBQ3JDLE1BQUdELEtBQUgsRUFBVTtBQUNSO0FBQ0F6QixJQUFBQSxPQUFPLENBQUN5QixLQUFSLENBQWNBLEtBQWQ7QUFDRCxHQUhELE1BR087QUFDTDtBQUNBekIsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFDRDtBQUNGLENBUkQ7QUFVQVAsY0FBYyxDQUFDaUMsSUFBZixDQUFvQixHQUFwQixFQUF5QixDQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVUMsSUFBVixLQUFtQjtBQUMxQztBQUNBLFFBQU1DLElBQUksR0FBRztBQUNYQyxJQUFBQSxJQUFJLEVBQUcsR0FBRUosR0FBRyxDQUFDSyxJQUFKLENBQVNDLEtBQU0sRUFEYjtBQUVYQyxJQUFBQSxFQUFFLEVBQUUsMkJBRk87QUFHWEMsSUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNLLElBQUosQ0FBU0csT0FIUDtBQUlYQyxJQUFBQSxJQUFJLEVBQUc7QUFDYjtBQUNBLFFBQVFULEdBQUcsQ0FBQ0ssSUFBSixDQUFTSyxJQUFLO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRVixHQUFHLENBQUNLLElBQUosQ0FBU0MsS0FBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxRQUFRTixHQUFHLENBQUNLLElBQUosQ0FBU0ksSUFBSztBQWJMLEdBQWIsQ0FGMEMsQ0FrQjlDOztBQUVJZixFQUFBQSxXQUFXLENBQUNpQixRQUFaLENBQXFCUixJQUFyQixFQUEyQixDQUFDUyxHQUFELEVBQUtDLElBQUwsS0FBYztBQUN2QyxRQUFHRCxHQUFILEVBQVE7QUFDTlgsTUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVM7QUFDUEMsUUFBQUEsTUFBTSxFQUFFO0FBREQsT0FBVDtBQUdELEtBSkQsTUFJTztBQUNMZCxNQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUNQQyxRQUFBQSxNQUFNLEVBQUU7QUFERCxPQUFUO0FBR0Q7QUFDRixHQVZEO0FBV0QsQ0EvQkQ7QUFrQ0ZDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5ELGNBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHNlbmRUb01lUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XG5jb25zdCB7IGdvb2dsZSB9ID0gcmVxdWlyZSgnZ29vZ2xlYXBpcycpO1xuY29uc3QgT0F1dGgyID0gZ29vZ2xlLmF1dGguT0F1dGgyO1xuXG5jb25zb2xlLmxvZyhcImZyb20gc2VuZFRvTWVcIilcblxuY29uc3Qgb2F1dGgyQ2xpZW50ID0gbmV3IE9BdXRoMihcbiAgcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5USUQsIC8vIENsaWVudElEXG4gIHByb2Nlc3MuZW52LkdNQUlMX0NMSUVOVFNFQ1JFVCwgLy8gQ2xpZW50IFNlY3JldFxuICBcImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL29hdXRocGxheWdyb3VuZFwiIC8vIFJlZGlyZWN0IFVSTFxuKTtcblxub2F1dGgyQ2xpZW50LnNldENyZWRlbnRpYWxzKHtcbiAgcmVmcmVzaF90b2tlbjogcHJvY2Vzcy5lbnYuR01BSUxfUkVGUkVTSF9UT0tFTlxufSk7XG5jb25zdCBhY2Nlc3NUb2tlbiA9IG9hdXRoMkNsaWVudC5nZXRBY2Nlc3NUb2tlbigpXG5cblxuLy9hbGwgb2YgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIG1ha2luZyBhIHNpdGUgc2VuZCBhbiBlbWFpbC5cbmNvbnN0IHRyYW5zcG9ydCA9IHtcbiAgLy8gaG9zdDogXCJzbXRwLmdtYWlsLmNvbVwiLFxuICAvLyBwb3J0OiA1ODcsXG4gIC8vIHNlY3VyZTogZmFsc2UsXG4gIHNlcnZpY2U6XCJnbWFpbFwiLFxuICBhdXRoOiB7XG4gICAgdHlwZTogXCJPQXV0aDJcIixcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5HTUFJTF9BQ0MsIFxuICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HTUFJTF9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdNQUlMX0NMSUVOVFNFQ1JFVCxcbiAgICByZWZyZXNoVG9rZW46IHByb2Nlc3MuZW52LkdNQUlMX1JFRlJFU0hfVE9LRU4sXG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIHRsczoge1xuICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICB0cmFuc3BvcnRlci52ZXJpZnkoKGVycm9yLCBzdWNjZXNzKSA9PiB7XG4gICAgaWYoZXJyb3IpIHtcbiAgICAgIC8vaWYgZXJyb3IgaGFwcGVuZWQgY29kZSBlbmRzIGhlcmVcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vdGhpcyBtZWFucyBzdWNjZXNzXG4gICAgICBjb25zb2xlLmxvZygndXNlcnMgcmVhZHkgdG8gbWFpbCBteXNlbGYnKVxuICAgIH1cbiAgfSk7XG5cbiAgc2VuZFRvTWVSb3V0ZXIucG9zdCgnLycsIChyZXEscmVzLCBuZXh0KSA9PiB7XG4gICAgLy9tYWtlIG1haWxhYmxlIG9iamVjdFxuICAgIGNvbnN0IG1haWwgPSB7XG4gICAgICBmcm9tOiBgJHtyZXEuYm9keS5lbWFpbH1gLFxuICAgICAgdG86ICdwYXF1ZXRyYXBoYWVsbGVAZ21haWwuY29tJyxcbiAgICAgIHN1YmplY3Q6IHJlcS5ib2R5LnN1YmplY3QsXG4gICAgICB0ZXh0OiBgXG4gICAgICBmcm9tOlxuICAgICAgJHtyZXEuYm9keS5uYW1lfSBcblxuICAgICAgY29udGFjdDogXG4gICAgICAke3JlcS5ib2R5LmVtYWlsfVxuXG4gICAgICBtZXNzYWdlOiBcblxuICAgICAgJHtyZXEuYm9keS50ZXh0fWBcbiAgICB9XG5cbi8vIGVycm9yIGhhbmRsaW5nIGdvZXMgaGVyZS4gXG5cbiAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsLCAoZXJyLGRhdGEpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbCdcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZFRvTWVSb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "sendToMe.js"
      ],
      "names": [
        "express",
        "require",
        "sendToMeRouter",
        "Router",
        "nodemailer",
        "google",
        "OAuth2",
        "auth",
        "console",
        "log",
        "oauth2Client",
        "process",
        "env",
        "GMAIL_CLIENTID",
        "GMAIL_CLIENTSECRET",
        "setCredentials",
        "refresh_token",
        "GMAIL_REFRESH_TOKEN",
        "accessToken",
        "getAccessToken",
        "transport",
        "service",
        "type",
        "user",
        "GMAIL_ACC",
        "clientId",
        "clientSecret",
        "refreshToken",
        "tls",
        "rejectUnauthorized",
        "transporter",
        "createTransport",
        "verify",
        "error",
        "success",
        "post",
        "req",
        "res",
        "next",
        "mail",
        "from",
        "body",
        "email",
        "to",
        "subject",
        "text",
        "name",
        "sendMail",
        "err",
        "data",
        "json",
        "status",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAACG,MAAR,EAAvB;;AACA,MAAMC,UAAU,GAAGH,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAaJ,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMK,MAAM,GAAGD,MAAM,CAACE,IAAP,CAAYD,MAA3B;AAEAE,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEA,MAAMC,YAAY,GAAG,IAAIJ,MAAJ,CACnBK,OAAO,CAACC,GAAR,CAAYC,cADO,EACS;AAC5BF,OAAO,CAACC,GAAR,CAAYE,kBAFO,EAEa;AAChC,+CAHmB,CAG6B;AAH7B,CAArB;AAMAJ,YAAY,CAACK,cAAb,CAA4B;AAC1BC,EAAAA,aAAa,EAAEL,OAAO,CAACC,GAAR,CAAYK;AADD,CAA5B;AAGA,MAAMC,WAAW,GAAGR,YAAY,CAACS,cAAb,EAApB,C,CAGA;;AACA,MAAMC,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,OAAO,EAAC,OAJQ;AAKhBd,EAAAA,IAAI,EAAE;AACJe,IAAAA,IAAI,EAAE,QADF;AAEJC,IAAAA,IAAI,EAAEZ,OAAO,CAACC,GAAR,CAAYY,SAFd;AAGJC,IAAAA,QAAQ,EAAEd,OAAO,CAACC,GAAR,CAAYC,cAHlB;AAIJa,IAAAA,YAAY,EAAEf,OAAO,CAACC,GAAR,CAAYE,kBAJtB;AAKJa,IAAAA,YAAY,EAAEhB,OAAO,CAACC,GAAR,CAAYK,mBALtB;AAMJC,IAAAA,WAAW,EAAEA,WANT;AAOJU,IAAAA,GAAG,EAAE;AACHC,MAAAA,kBAAkB,EAAE;AADjB;AAPD;AALU,CAAlB;AAkBA,MAAMC,WAAW,GAAG1B,UAAU,CAAC2B,eAAX,CAA2BX,SAA3B,CAApB;AACEU,WAAW,CAACE,MAAZ,CAAmB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACrC,MAAGD,KAAH,EAAU;AACR;AACAzB,IAAAA,OAAO,CAACyB,KAAR,CAAcA,KAAd;AACD,GAHD,MAGO;AACL;AACAzB,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD;AACF,CARD;AAUAP,cAAc,CAACiC,IAAf,CAAoB,GAApB,EAAyB,CAACC,GAAD,EAAKC,GAAL,EAAUC,IAAV,KAAmB;AAC1C;AACA,QAAMC,IAAI,GAAG;AACXC,IAAAA,IAAI,EAAG,GAAEJ,GAAG,CAACK,IAAJ,CAASC,KAAM,EADb;AAEXC,IAAAA,EAAE,EAAE,2BAFO;AAGXC,IAAAA,OAAO,EAAER,GAAG,CAACK,IAAJ,CAASG,OAHP;AAIXC,IAAAA,IAAI,EAAG;AACb;AACA,QAAQT,GAAG,CAACK,IAAJ,CAASK,IAAK;AACtB;AACA;AACA,QAAQV,GAAG,CAACK,IAAJ,CAASC,KAAM;AACvB;AACA;AACA;AACA,QAAQN,GAAG,CAACK,IAAJ,CAASI,IAAK;AAbL,GAAb,CAF0C,CAkB9C;;AAEIf,EAAAA,WAAW,CAACiB,QAAZ,CAAqBR,IAArB,EAA2B,CAACS,GAAD,EAAKC,IAAL,KAAc;AACvC,QAAGD,GAAH,EAAQ;AACNX,MAAAA,GAAG,CAACa,IAAJ,CAAS;AACPC,QAAAA,MAAM,EAAE;AADD,OAAT;AAGD,KAJD,MAIO;AACLd,MAAAA,GAAG,CAACa,IAAJ,CAAS;AACPC,QAAAA,MAAM,EAAE;AADD,OAAT;AAGD;AACF,GAVD;AAWD,CA/BD;AAkCFC,MAAM,CAACC,OAAP,GAAiBnD,cAAjB",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "const express = require('express');\nconst sendToMeRouter = express.Router();\nconst nodemailer = require('nodemailer');\nconst { google } = require('googleapis');\nconst OAuth2 = google.auth.OAuth2;\n\nconsole.log(\"from sendToMe\")\n\nconst oauth2Client = new OAuth2(\n  process.env.GMAIL_CLIENTID, // ClientID\n  process.env.GMAIL_CLIENTSECRET, // Client Secret\n  \"https://developers.google.com/oauthplayground\" // Redirect URL\n);\n\noauth2Client.setCredentials({\n  refresh_token: process.env.GMAIL_REFRESH_TOKEN\n});\nconst accessToken = oauth2Client.getAccessToken()\n\n\n//all of the configuration for making a site send an email.\nconst transport = {\n  // host: \"smtp.gmail.com\",\n  // port: 587,\n  // secure: false,\n  service:\"gmail\",\n  auth: {\n    type: \"OAuth2\",\n    user: process.env.GMAIL_ACC, \n    clientId: process.env.GMAIL_CLIENTID,\n    clientSecret: process.env.GMAIL_CLIENTSECRET,\n    refreshToken: process.env.GMAIL_REFRESH_TOKEN,\n    accessToken: accessToken,\n    tls: {\n      rejectUnauthorized: false\n    }\n  }\n};\n\nconst transporter = nodemailer.createTransport(transport);\n  transporter.verify((error, success) => {\n    if(error) {\n      //if error happened code ends here\n      console.error(error)\n    } else {\n      //this means success\n      console.log('users ready to mail myself')\n    }\n  });\n\n  sendToMeRouter.post('/', (req,res, next) => {\n    //make mailable object\n    const mail = {\n      from: `${req.body.email}`,\n      to: 'paquetraphaelle@gmail.com',\n      subject: req.body.subject,\n      text: `\n      from:\n      ${req.body.name} \n\n      contact: \n      ${req.body.email}\n\n      message: \n\n      ${req.body.text}`\n    }\n\n// error handling goes here. \n\n    transporter.sendMail(mail, (err,data) => {\n      if(err) {\n        res.json({\n          status: 'fail'\n        })\n      } else {\n        res.json({\n          status: 'success'\n        })\n      }\n    })\n  });\n\n\nmodule.exports = sendToMeRouter;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614190243159
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "data.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    name: 'Leave Me Alone',\n    category: 'peintures',\n    image: '/docs/leaveMeAlone.png',\n    price: 100,\n    description: 'toile aquarelle 9x12\"',\n    countInStock: 1\n  }, {\n    name: 'Vin Vilain',\n    category: 'peintures',\n    image: '/docs/vinVilain.png',\n    price: 50,\n    description: 'toile aquarelle 9x12\"',\n    countInStock: 2\n  }, {\n    name: 'Raphaelle',\n    category: 'tshirts',\n    image: '/images/alien_stade.jpg',\n    price: 70,\n    description: 'tshirts',\n    countInStock: 10\n  }, {\n    name: 'Bob et Patrick',\n    category: 'illustrations',\n    image: '/images/alien_bagel.jpg',\n    price: 70,\n    description: 'illustrations',\n    countInStock: 1\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsicHJvZHVjdHMiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZSIsInByaWNlIiwiZGVzY3JpcHRpb24iLCJjb3VudEluU3RvY2siXSwibWFwcGluZ3MiOiI7Ozs7OztlQUFlO0FBQ2JBLEVBQUFBLFFBQVEsRUFBRSxDQUNSO0FBQ0VDLElBQUFBLElBQUksRUFBRSxnQkFEUjtBQUVFQyxJQUFBQSxRQUFRLEVBQUUsV0FGWjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUsd0JBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEdBSlQ7QUFLRUMsSUFBQUEsV0FBVyxFQUFFLHVCQUxmO0FBTUVDLElBQUFBLFlBQVksRUFBRTtBQU5oQixHQURRLEVBU1I7QUFDRUwsSUFBQUEsSUFBSSxFQUFFLFlBRFI7QUFFRUMsSUFBQUEsUUFBUSxFQUFFLFdBRlo7QUFHRUMsSUFBQUEsS0FBSyxFQUFFLHFCQUhUO0FBSUVDLElBQUFBLEtBQUssRUFBRSxFQUpUO0FBS0VDLElBQUFBLFdBQVcsRUFBRSx1QkFMZjtBQU1FQyxJQUFBQSxZQUFZLEVBQUU7QUFOaEIsR0FUUSxFQWlCUjtBQUNFTCxJQUFBQSxJQUFJLEVBQUUsV0FEUjtBQUVFQyxJQUFBQSxRQUFRLEVBQUUsU0FGWjtBQUdFQyxJQUFBQSxLQUFLLEVBQUUseUJBSFQ7QUFJRUMsSUFBQUEsS0FBSyxFQUFFLEVBSlQ7QUFLRUMsSUFBQUEsV0FBVyxFQUFFLFNBTGY7QUFNRUMsSUFBQUEsWUFBWSxFQUFFO0FBTmhCLEdBakJRLEVBd0JMO0FBQ0RMLElBQUFBLElBQUksRUFBRSxnQkFETDtBQUVEQyxJQUFBQSxRQUFRLEVBQUUsZUFGVDtBQUdEQyxJQUFBQSxLQUFLLEVBQUUseUJBSE47QUFJREMsSUFBQUEsS0FBSyxFQUFFLEVBSk47QUFLREMsSUFBQUEsV0FBVyxFQUFFLGVBTFo7QUFNREMsSUFBQUEsWUFBWSxFQUFFO0FBTmIsR0F4Qks7QUFERyxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIHByb2R1Y3RzOiBbXG4gICAge1xuICAgICAgbmFtZTogJ0xlYXZlIE1lIEFsb25lJyxcbiAgICAgIGNhdGVnb3J5OiAncGVpbnR1cmVzJyxcbiAgICAgIGltYWdlOiAnL2RvY3MvbGVhdmVNZUFsb25lLnBuZycsXG4gICAgICBwcmljZTogMTAwLFxuICAgICAgZGVzY3JpcHRpb246ICd0b2lsZSBhcXVhcmVsbGUgOXgxMlwiJyxcbiAgICAgIGNvdW50SW5TdG9jazogMSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdWaW4gVmlsYWluJyxcbiAgICAgIGNhdGVnb3J5OiAncGVpbnR1cmVzJyxcbiAgICAgIGltYWdlOiAnL2RvY3MvdmluVmlsYWluLnBuZycsXG4gICAgICBwcmljZTogNTAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3RvaWxlIGFxdWFyZWxsZSA5eDEyXCInLFxuICAgICAgY291bnRJblN0b2NrOiAyLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1JhcGhhZWxsZScsXG4gICAgICBjYXRlZ29yeTogJ3RzaGlydHMnLFxuICAgICAgaW1hZ2U6ICcvaW1hZ2VzL2FsaWVuX3N0YWRlLmpwZycsXG4gICAgICBwcmljZTogNzAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3RzaGlydHMnLFxuICAgICAgY291bnRJblN0b2NrOiAxMCxcbiAgICB9LCB7XG4gICAgICBuYW1lOiAnQm9iIGV0IFBhdHJpY2snLFxuICAgICAgY2F0ZWdvcnk6ICdpbGx1c3RyYXRpb25zJyxcbiAgICAgIGltYWdlOiAnL2ltYWdlcy9hbGllbl9iYWdlbC5qcGcnLFxuICAgICAgcHJpY2U6IDcwLFxuICAgICAgZGVzY3JpcHRpb246ICdpbGx1c3RyYXRpb25zJyxcbiAgICAgIGNvdW50SW5TdG9jazogMSxcbiAgICB9LFxuICBdXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "data.js"
      ],
      "names": [
        "products",
        "name",
        "category",
        "image",
        "price",
        "description",
        "countInStock"
      ],
      "mappings": ";;;;;;eAAe;AACbA,EAAAA,QAAQ,EAAE,CACR;AACEC,IAAAA,IAAI,EAAE,gBADR;AAEEC,IAAAA,QAAQ,EAAE,WAFZ;AAGEC,IAAAA,KAAK,EAAE,wBAHT;AAIEC,IAAAA,KAAK,EAAE,GAJT;AAKEC,IAAAA,WAAW,EAAE,uBALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GADQ,EASR;AACEL,IAAAA,IAAI,EAAE,YADR;AAEEC,IAAAA,QAAQ,EAAE,WAFZ;AAGEC,IAAAA,KAAK,EAAE,qBAHT;AAIEC,IAAAA,KAAK,EAAE,EAJT;AAKEC,IAAAA,WAAW,EAAE,uBALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GATQ,EAiBR;AACEL,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,QAAQ,EAAE,SAFZ;AAGEC,IAAAA,KAAK,EAAE,yBAHT;AAIEC,IAAAA,KAAK,EAAE,EAJT;AAKEC,IAAAA,WAAW,EAAE,SALf;AAMEC,IAAAA,YAAY,EAAE;AANhB,GAjBQ,EAwBL;AACDL,IAAAA,IAAI,EAAE,gBADL;AAEDC,IAAAA,QAAQ,EAAE,eAFT;AAGDC,IAAAA,KAAK,EAAE,yBAHN;AAIDC,IAAAA,KAAK,EAAE,EAJN;AAKDC,IAAAA,WAAW,EAAE,eALZ;AAMDC,IAAAA,YAAY,EAAE;AANb,GAxBK;AADG,C",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "export default {\n  products: [\n    {\n      name: 'Leave Me Alone',\n      category: 'peintures',\n      image: '/docs/leaveMeAlone.png',\n      price: 100,\n      description: 'toile aquarelle 9x12\"',\n      countInStock: 1,\n    },\n    {\n      name: 'Vin Vilain',\n      category: 'peintures',\n      image: '/docs/vinVilain.png',\n      price: 50,\n      description: 'toile aquarelle 9x12\"',\n      countInStock: 2,\n    },\n    {\n      name: 'Raphaelle',\n      category: 'tshirts',\n      image: '/images/alien_stade.jpg',\n      price: 70,\n      description: 'tshirts',\n      countInStock: 10,\n    }, {\n      name: 'Bob et Patrick',\n      category: 'illustrations',\n      image: '/images/alien_bagel.jpg',\n      price: 70,\n      description: 'illustrations',\n      countInStock: 1,\n    },\n  ]\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614566263705
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/products.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "products.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbXX0=",
    "map": {
      "version": 3,
      "sources": [],
      "names": [],
      "mappings": "",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": []
    },
    "sourceType": "script",
    "mtime": 1614268839266
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst pg = require('pg');\n\nrequire('dotenv').config();\n\nconst connectionString = `postgres://${process.env.DB_USER}:${process.env.DB_PASS}@${process.env.DB_HOST}:${process.env.DB_PORT}/${process.env.DB_NAME}?sslmode=disable`;\nconst client = new pg.Client({\n  connectionString: connectionString || process.env.DATABASE_URL\n});\nconsole.log(`Connected to ${process.env.DB_NAME} on ${process.env.DB_HOST}`);\nclient.connect();\nmodule.exports = client;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInBnIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiREJfVVNFUiIsIkRCX1BBU1MiLCJEQl9IT1NUIiwiREJfUE9SVCIsIkRCX05BTUUiLCJjbGllbnQiLCJDbGllbnQiLCJEQVRBQkFTRV9VUkwiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsRUFBRSxHQUFHQyxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEI7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUksY0FBYUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVEsSUFBR0YsT0FBTyxDQUFDQyxHQUFSLENBQVlFLE9BQVEsSUFBR0gsT0FBTyxDQUFDQyxHQUFSLENBQVlHLE9BQVEsSUFBR0osT0FBTyxDQUFDQyxHQUFSLENBQVlJLE9BQVEsSUFBR0wsT0FBTyxDQUFDQyxHQUFSLENBQVlLLE9BQVEsa0JBQXZKO0FBRUEsTUFBTUMsTUFBTSxHQUFHLElBQUlYLEVBQUUsQ0FBQ1ksTUFBUCxDQUFjO0FBQ3pCVCxFQUFBQSxnQkFBZ0IsRUFBRUEsZ0JBQWdCLElBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZUTtBQUR6QixDQUFkLENBQWY7QUFJQUMsT0FBTyxDQUFDQyxHQUFSLENBQWMsZ0JBQWVYLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxPQUFRLE9BQU1OLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxPQUFRLEVBQTNFO0FBQ0FHLE1BQU0sQ0FBQ0ssT0FBUDtBQUVBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJQLE1BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9kYi8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwZyA9IHJlcXVpcmUoJ3BnJyk7XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmNvbnN0IGNvbm5lY3Rpb25TdHJpbmcgPSBgcG9zdGdyZXM6Ly8ke3Byb2Nlc3MuZW52LkRCX1VTRVJ9OiR7cHJvY2Vzcy5lbnYuREJfUEFTU31AJHtwcm9jZXNzLmVudi5EQl9IT1NUfToke3Byb2Nlc3MuZW52LkRCX1BPUlR9LyR7cHJvY2Vzcy5lbnYuREJfTkFNRX0/c3NsbW9kZT1kaXNhYmxlYCA7XG5cbmNvbnN0IGNsaWVudCA9IG5ldyBwZy5DbGllbnQoe1xuICAgIGNvbm5lY3Rpb25TdHJpbmc6IGNvbm5lY3Rpb25TdHJpbmcgfHwgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxufSk7XG5cbmNvbnNvbGUubG9nKCBgQ29ubmVjdGVkIHRvICR7cHJvY2Vzcy5lbnYuREJfTkFNRX0gb24gJHtwcm9jZXNzLmVudi5EQl9IT1NUfWAgKTtcbmNsaWVudC5jb25uZWN0KCk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xpZW50OyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "pg",
        "require",
        "config",
        "connectionString",
        "process",
        "env",
        "DB_USER",
        "DB_PASS",
        "DB_HOST",
        "DB_PORT",
        "DB_NAME",
        "client",
        "Client",
        "DATABASE_URL",
        "console",
        "log",
        "connect",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAMC,gBAAgB,GAAI,cAAaC,OAAO,CAACC,GAAR,CAAYC,OAAQ,IAAGF,OAAO,CAACC,GAAR,CAAYE,OAAQ,IAAGH,OAAO,CAACC,GAAR,CAAYG,OAAQ,IAAGJ,OAAO,CAACC,GAAR,CAAYI,OAAQ,IAAGL,OAAO,CAACC,GAAR,CAAYK,OAAQ,kBAAvJ;AAEA,MAAMC,MAAM,GAAG,IAAIX,EAAE,CAACY,MAAP,CAAc;AACzBT,EAAAA,gBAAgB,EAAEA,gBAAgB,IAAIC,OAAO,CAACC,GAAR,CAAYQ;AADzB,CAAd,CAAf;AAIAC,OAAO,CAACC,GAAR,CAAc,gBAAeX,OAAO,CAACC,GAAR,CAAYK,OAAQ,OAAMN,OAAO,CAACC,GAAR,CAAYG,OAAQ,EAA3E;AACAG,MAAM,CAACK,OAAP;AAEAC,MAAM,CAACC,OAAP,GAAiBP,MAAjB",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/db/",
      "sourcesContent": [
        "const pg = require('pg');\nrequire('dotenv').config();\nconst connectionString = `postgres://${process.env.DB_USER}:${process.env.DB_PASS}@${process.env.DB_HOST}:${process.env.DB_PORT}/${process.env.DB_NAME}?sslmode=disable` ;\n\nconst client = new pg.Client({\n    connectionString: connectionString || process.env.DATABASE_URL,\n});\n\nconsole.log( `Connected to ${process.env.DB_NAME} on ${process.env.DB_HOST}` );\nclient.connect();\n\nmodule.exports = client;"
      ]
    },
    "sourceType": "script",
    "mtime": 1613358292003
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/dbhelpers.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
        "sourceFileName": "dbhelpers.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nmodule.exports = db => {\n  const getProducts = () => {\n    const query = {\n      text: `SELECT * FROM products`\n    };\n    return db.query(query).then(result => result.rows).catch(err => err);\n  };\n\n  return {\n    getProducts\n  };\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiaGVscGVycy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZGIiLCJnZXRQcm9kdWN0cyIsInF1ZXJ5IiwidGV4dCIsInRoZW4iLCJyZXN1bHQiLCJyb3dzIiwiY2F0Y2giLCJlcnIiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFrQkMsRUFBRCxJQUFRO0FBRXZCLFFBQU1DLFdBQVcsR0FBRyxNQUFNO0FBQ3hCLFVBQU1DLEtBQUssR0FBRztBQUNWQyxNQUFBQSxJQUFJLEVBQUc7QUFERyxLQUFkO0FBSUEsV0FBT0gsRUFBRSxDQUFDRSxLQUFILENBQVNBLEtBQVQsRUFDRkUsSUFERSxDQUNHQyxNQUFNLElBQUlBLE1BQU0sQ0FBQ0MsSUFEcEIsRUFFRkMsS0FGRSxDQUVJQyxHQUFHLElBQUlBLEdBRlgsQ0FBUDtBQUdDLEdBUkg7O0FBVUUsU0FBTztBQUNMUCxJQUFBQTtBQURLLEdBQVA7QUFHSCxDQWZEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9oZWxwZXJzLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gKGRiKSA9PiB7XG5cbiAgY29uc3QgZ2V0UHJvZHVjdHMgPSAoKSA9PiB7XG4gICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgIHRleHQ6IGBTRUxFQ1QgKiBGUk9NIHByb2R1Y3RzYFxuICAgIH1cblxuICAgIHJldHVybiBkYi5xdWVyeShxdWVyeSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHJlc3VsdC5yb3dzKVxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFByb2R1Y3RzLFxuICB9O1xufTsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "dbhelpers.js"
      ],
      "names": [
        "module",
        "exports",
        "db",
        "getProducts",
        "query",
        "text",
        "then",
        "result",
        "rows",
        "catch",
        "err"
      ],
      "mappings": ";;AAAAA,MAAM,CAACC,OAAP,GAAkBC,EAAD,IAAQ;AAEvB,QAAMC,WAAW,GAAG,MAAM;AACxB,UAAMC,KAAK,GAAG;AACVC,MAAAA,IAAI,EAAG;AADG,KAAd;AAIA,WAAOH,EAAE,CAACE,KAAH,CAASA,KAAT,EACFE,IADE,CACGC,MAAM,IAAIA,MAAM,CAACC,IADpB,EAEFC,KAFE,CAEIC,GAAG,IAAIA,GAFX,CAAP;AAGC,GARH;;AAUE,SAAO;AACLP,IAAAA;AADK,GAAP;AAGH,CAfD",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/helpers/",
      "sourcesContent": [
        "module.exports = (db) => {\n\n  const getProducts = () => {\n    const query = {\n        text: `SELECT * FROM products`\n    }\n\n    return db.query(query)\n        .then(result => result.rows)\n        .catch(err => err);\n    }\n\n    return {\n      getProducts,\n  };\n};"
      ]
    },
    "sourceType": "script",
    "mtime": 1613421535222
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/sendToMe.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "sendToMe.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst express = require('express');\n\nconst sendToMeRouter = express.Router();\n\nconst nodemailer = require('nodemailer');\n\nconst {\n  google\n} = require('googleapis');\n\nconst OAuth2 = google.auth.OAuth2;\nconsole.log(\"from sendToMe\");\nconst oauth2Client = new OAuth2(process.env.GMAIL_CLIENTID, // ClientID\nprocess.env.GMAIL_CLIENTSECRET, // Client Secret\n\"https://developers.google.com/oauthplayground\" // Redirect URL\n);\noauth2Client.setCredentials({\n  refresh_token: process.env.GMAIL_REFRESH_TOKEN\n});\nconst accessToken = oauth2Client.getAccessToken(); //all of the configuration for making a site send an email.\n\nconst transport = {\n  // host: \"smtp.gmail.com\",\n  // port: 587,\n  // secure: false,\n  service: \"gmail\",\n  auth: {\n    type: \"OAuth2\",\n    user: process.env.GMAIL_ACC,\n    clientId: process.env.GMAIL_CLIENTID,\n    clientSecret: process.env.GMAIL_CLIENTSECRET,\n    refreshToken: process.env.GMAIL_REFRESH_TOKEN,\n    accessToken: accessToken,\n    tls: {\n      rejectUnauthorized: false\n    }\n  }\n};\nconst transporter = nodemailer.createTransport(transport);\ntransporter.verify((error, success) => {\n  if (error) {\n    //if error happened code ends here\n    console.error(error);\n  } else {\n    //this means success\n    console.log('users ready to mail myself');\n  }\n});\nsendToMeRouter.post('/', (req, res, next) => {\n  //make mailable object\n  const mail = {\n    from: `${req.body.email}`,\n    to: 'paquetraphaelle@gmail.com',\n    subject: req.body.subject,\n    text: `\n      from:\n      ${req.body.name} \n\n      contact: \n      ${req.body.email}\n\n      message: \n\n      ${req.body.text}`\n  }; // error handling goes here. \n\n  transporter.sendMail(mail, (err, data) => {\n    if (err) {\n      res.json({\n        status: 'fail'\n      });\n    } else {\n      res.json({\n        status: 'success'\n      });\n    }\n  });\n});\nmodule.exports = sendToMeRouter;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbmRUb01lLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwic2VuZFRvTWVSb3V0ZXIiLCJSb3V0ZXIiLCJub2RlbWFpbGVyIiwiZ29vZ2xlIiwiT0F1dGgyIiwiYXV0aCIsImNvbnNvbGUiLCJsb2ciLCJvYXV0aDJDbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiR01BSUxfQ0xJRU5USUQiLCJHTUFJTF9DTElFTlRTRUNSRVQiLCJzZXRDcmVkZW50aWFscyIsInJlZnJlc2hfdG9rZW4iLCJHTUFJTF9SRUZSRVNIX1RPS0VOIiwiYWNjZXNzVG9rZW4iLCJnZXRBY2Nlc3NUb2tlbiIsInRyYW5zcG9ydCIsInNlcnZpY2UiLCJ0eXBlIiwidXNlciIsIkdNQUlMX0FDQyIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwicmVmcmVzaFRva2VuIiwidGxzIiwicmVqZWN0VW5hdXRob3JpemVkIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJ2ZXJpZnkiLCJlcnJvciIsInN1Y2Nlc3MiLCJwb3N0IiwicmVxIiwicmVzIiwibmV4dCIsIm1haWwiLCJmcm9tIiwiYm9keSIsImVtYWlsIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsIm5hbWUiLCJzZW5kTWFpbCIsImVyciIsImRhdGEiLCJqc29uIiwic3RhdHVzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLE1BQU1DLGNBQWMsR0FBR0YsT0FBTyxDQUFDRyxNQUFSLEVBQXZCOztBQUNBLE1BQU1DLFVBQVUsR0FBR0gsT0FBTyxDQUFDLFlBQUQsQ0FBMUI7O0FBQ0EsTUFBTTtBQUFFSSxFQUFBQTtBQUFGLElBQWFKLE9BQU8sQ0FBQyxZQUFELENBQTFCOztBQUNBLE1BQU1LLE1BQU0sR0FBR0QsTUFBTSxDQUFDRSxJQUFQLENBQVlELE1BQTNCO0FBRUFFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQVo7QUFFQSxNQUFNQyxZQUFZLEdBQUcsSUFBSUosTUFBSixDQUNuQkssT0FBTyxDQUFDQyxHQUFSLENBQVlDLGNBRE8sRUFDUztBQUM1QkYsT0FBTyxDQUFDQyxHQUFSLENBQVlFLGtCQUZPLEVBRWE7QUFDaEMsK0NBSG1CLENBRzZCO0FBSDdCLENBQXJCO0FBTUFKLFlBQVksQ0FBQ0ssY0FBYixDQUE0QjtBQUMxQkMsRUFBQUEsYUFBYSxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUs7QUFERCxDQUE1QjtBQUdBLE1BQU1DLFdBQVcsR0FBR1IsWUFBWSxDQUFDUyxjQUFiLEVBQXBCLEMsQ0FHQTs7QUFDQSxNQUFNQyxTQUFTLEdBQUc7QUFDaEI7QUFDQTtBQUNBO0FBQ0FDLEVBQUFBLE9BQU8sRUFBQyxPQUpRO0FBS2hCZCxFQUFBQSxJQUFJLEVBQUU7QUFDSmUsSUFBQUEsSUFBSSxFQUFFLFFBREY7QUFFSkMsSUFBQUEsSUFBSSxFQUFFWixPQUFPLENBQUNDLEdBQVIsQ0FBWVksU0FGZDtBQUdKQyxJQUFBQSxRQUFRLEVBQUVkLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxjQUhsQjtBQUlKYSxJQUFBQSxZQUFZLEVBQUVmLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxrQkFKdEI7QUFLSmEsSUFBQUEsWUFBWSxFQUFFaEIsT0FBTyxDQUFDQyxHQUFSLENBQVlLLG1CQUx0QjtBQU1KQyxJQUFBQSxXQUFXLEVBQUVBLFdBTlQ7QUFPSlUsSUFBQUEsR0FBRyxFQUFFO0FBQ0hDLE1BQUFBLGtCQUFrQixFQUFFO0FBRGpCO0FBUEQ7QUFMVSxDQUFsQjtBQWtCQSxNQUFNQyxXQUFXLEdBQUcxQixVQUFVLENBQUMyQixlQUFYLENBQTJCWCxTQUEzQixDQUFwQjtBQUNFVSxXQUFXLENBQUNFLE1BQVosQ0FBbUIsQ0FBQ0MsS0FBRCxFQUFRQyxPQUFSLEtBQW9CO0FBQ3JDLE1BQUdELEtBQUgsRUFBVTtBQUNSO0FBQ0F6QixJQUFBQSxPQUFPLENBQUN5QixLQUFSLENBQWNBLEtBQWQ7QUFDRCxHQUhELE1BR087QUFDTDtBQUNBekIsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFDRDtBQUNGLENBUkQ7QUFVQVAsY0FBYyxDQUFDaUMsSUFBZixDQUFvQixHQUFwQixFQUF5QixDQUFDQyxHQUFELEVBQUtDLEdBQUwsRUFBVUMsSUFBVixLQUFtQjtBQUMxQztBQUNBLFFBQU1DLElBQUksR0FBRztBQUNYQyxJQUFBQSxJQUFJLEVBQUcsR0FBRUosR0FBRyxDQUFDSyxJQUFKLENBQVNDLEtBQU0sRUFEYjtBQUVYQyxJQUFBQSxFQUFFLEVBQUUsMkJBRk87QUFHWEMsSUFBQUEsT0FBTyxFQUFFUixHQUFHLENBQUNLLElBQUosQ0FBU0csT0FIUDtBQUlYQyxJQUFBQSxJQUFJLEVBQUc7QUFDYjtBQUNBLFFBQVFULEdBQUcsQ0FBQ0ssSUFBSixDQUFTSyxJQUFLO0FBQ3RCO0FBQ0E7QUFDQSxRQUFRVixHQUFHLENBQUNLLElBQUosQ0FBU0MsS0FBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxRQUFRTixHQUFHLENBQUNLLElBQUosQ0FBU0ksSUFBSztBQWJMLEdBQWIsQ0FGMEMsQ0FrQjlDOztBQUVJZixFQUFBQSxXQUFXLENBQUNpQixRQUFaLENBQXFCUixJQUFyQixFQUEyQixDQUFDUyxHQUFELEVBQUtDLElBQUwsS0FBYztBQUN2QyxRQUFHRCxHQUFILEVBQVE7QUFDTlgsTUFBQUEsR0FBRyxDQUFDYSxJQUFKLENBQVM7QUFDUEMsUUFBQUEsTUFBTSxFQUFFO0FBREQsT0FBVDtBQUdELEtBSkQsTUFJTztBQUNMZCxNQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUNQQyxRQUFBQSxNQUFNLEVBQUU7QUFERCxPQUFUO0FBR0Q7QUFDRixHQVZEO0FBV0QsQ0EvQkQ7QUFrQ0ZDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5ELGNBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IHNlbmRUb01lUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XG5jb25zdCB7IGdvb2dsZSB9ID0gcmVxdWlyZSgnZ29vZ2xlYXBpcycpO1xuY29uc3QgT0F1dGgyID0gZ29vZ2xlLmF1dGguT0F1dGgyO1xuXG5jb25zb2xlLmxvZyhcImZyb20gc2VuZFRvTWVcIilcblxuY29uc3Qgb2F1dGgyQ2xpZW50ID0gbmV3IE9BdXRoMihcbiAgcHJvY2Vzcy5lbnYuR01BSUxfQ0xJRU5USUQsIC8vIENsaWVudElEXG4gIHByb2Nlc3MuZW52LkdNQUlMX0NMSUVOVFNFQ1JFVCwgLy8gQ2xpZW50IFNlY3JldFxuICBcImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL29hdXRocGxheWdyb3VuZFwiIC8vIFJlZGlyZWN0IFVSTFxuKTtcblxub2F1dGgyQ2xpZW50LnNldENyZWRlbnRpYWxzKHtcbiAgcmVmcmVzaF90b2tlbjogcHJvY2Vzcy5lbnYuR01BSUxfUkVGUkVTSF9UT0tFTlxufSk7XG5jb25zdCBhY2Nlc3NUb2tlbiA9IG9hdXRoMkNsaWVudC5nZXRBY2Nlc3NUb2tlbigpXG5cblxuLy9hbGwgb2YgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIG1ha2luZyBhIHNpdGUgc2VuZCBhbiBlbWFpbC5cbmNvbnN0IHRyYW5zcG9ydCA9IHtcbiAgLy8gaG9zdDogXCJzbXRwLmdtYWlsLmNvbVwiLFxuICAvLyBwb3J0OiA1ODcsXG4gIC8vIHNlY3VyZTogZmFsc2UsXG4gIHNlcnZpY2U6XCJnbWFpbFwiLFxuICBhdXRoOiB7XG4gICAgdHlwZTogXCJPQXV0aDJcIixcbiAgICB1c2VyOiBwcm9jZXNzLmVudi5HTUFJTF9BQ0MsIFxuICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HTUFJTF9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdNQUlMX0NMSUVOVFNFQ1JFVCxcbiAgICByZWZyZXNoVG9rZW46IHByb2Nlc3MuZW52LkdNQUlMX1JFRlJFU0hfVE9LRU4sXG4gICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIHRsczoge1xuICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICB0cmFuc3BvcnRlci52ZXJpZnkoKGVycm9yLCBzdWNjZXNzKSA9PiB7XG4gICAgaWYoZXJyb3IpIHtcbiAgICAgIC8vaWYgZXJyb3IgaGFwcGVuZWQgY29kZSBlbmRzIGhlcmVcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vdGhpcyBtZWFucyBzdWNjZXNzXG4gICAgICBjb25zb2xlLmxvZygndXNlcnMgcmVhZHkgdG8gbWFpbCBteXNlbGYnKVxuICAgIH1cbiAgfSk7XG5cbiAgc2VuZFRvTWVSb3V0ZXIucG9zdCgnLycsIChyZXEscmVzLCBuZXh0KSA9PiB7XG4gICAgLy9tYWtlIG1haWxhYmxlIG9iamVjdFxuICAgIGNvbnN0IG1haWwgPSB7XG4gICAgICBmcm9tOiBgJHtyZXEuYm9keS5lbWFpbH1gLFxuICAgICAgdG86ICdwYXF1ZXRyYXBoYWVsbGVAZ21haWwuY29tJyxcbiAgICAgIHN1YmplY3Q6IHJlcS5ib2R5LnN1YmplY3QsXG4gICAgICB0ZXh0OiBgXG4gICAgICBmcm9tOlxuICAgICAgJHtyZXEuYm9keS5uYW1lfSBcblxuICAgICAgY29udGFjdDogXG4gICAgICAke3JlcS5ib2R5LmVtYWlsfVxuXG4gICAgICBtZXNzYWdlOiBcblxuICAgICAgJHtyZXEuYm9keS50ZXh0fWBcbiAgICB9XG5cbi8vIGVycm9yIGhhbmRsaW5nIGdvZXMgaGVyZS4gXG5cbiAgICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsLCAoZXJyLGRhdGEpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXMuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbCdcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0pO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gc2VuZFRvTWVSb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "sendToMe.js"
      ],
      "names": [
        "express",
        "require",
        "sendToMeRouter",
        "Router",
        "nodemailer",
        "google",
        "OAuth2",
        "auth",
        "console",
        "log",
        "oauth2Client",
        "process",
        "env",
        "GMAIL_CLIENTID",
        "GMAIL_CLIENTSECRET",
        "setCredentials",
        "refresh_token",
        "GMAIL_REFRESH_TOKEN",
        "accessToken",
        "getAccessToken",
        "transport",
        "service",
        "type",
        "user",
        "GMAIL_ACC",
        "clientId",
        "clientSecret",
        "refreshToken",
        "tls",
        "rejectUnauthorized",
        "transporter",
        "createTransport",
        "verify",
        "error",
        "success",
        "post",
        "req",
        "res",
        "next",
        "mail",
        "from",
        "body",
        "email",
        "to",
        "subject",
        "text",
        "name",
        "sendMail",
        "err",
        "data",
        "json",
        "status",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,cAAc,GAAGF,OAAO,CAACG,MAAR,EAAvB;;AACA,MAAMC,UAAU,GAAGH,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAM;AAAEI,EAAAA;AAAF,IAAaJ,OAAO,CAAC,YAAD,CAA1B;;AACA,MAAMK,MAAM,GAAGD,MAAM,CAACE,IAAP,CAAYD,MAA3B;AAEAE,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEA,MAAMC,YAAY,GAAG,IAAIJ,MAAJ,CACnBK,OAAO,CAACC,GAAR,CAAYC,cADO,EACS;AAC5BF,OAAO,CAACC,GAAR,CAAYE,kBAFO,EAEa;AAChC,+CAHmB,CAG6B;AAH7B,CAArB;AAMAJ,YAAY,CAACK,cAAb,CAA4B;AAC1BC,EAAAA,aAAa,EAAEL,OAAO,CAACC,GAAR,CAAYK;AADD,CAA5B;AAGA,MAAMC,WAAW,GAAGR,YAAY,CAACS,cAAb,EAApB,C,CAGA;;AACA,MAAMC,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,OAAO,EAAC,OAJQ;AAKhBd,EAAAA,IAAI,EAAE;AACJe,IAAAA,IAAI,EAAE,QADF;AAEJC,IAAAA,IAAI,EAAEZ,OAAO,CAACC,GAAR,CAAYY,SAFd;AAGJC,IAAAA,QAAQ,EAAEd,OAAO,CAACC,GAAR,CAAYC,cAHlB;AAIJa,IAAAA,YAAY,EAAEf,OAAO,CAACC,GAAR,CAAYE,kBAJtB;AAKJa,IAAAA,YAAY,EAAEhB,OAAO,CAACC,GAAR,CAAYK,mBALtB;AAMJC,IAAAA,WAAW,EAAEA,WANT;AAOJU,IAAAA,GAAG,EAAE;AACHC,MAAAA,kBAAkB,EAAE;AADjB;AAPD;AALU,CAAlB;AAkBA,MAAMC,WAAW,GAAG1B,UAAU,CAAC2B,eAAX,CAA2BX,SAA3B,CAApB;AACEU,WAAW,CAACE,MAAZ,CAAmB,CAACC,KAAD,EAAQC,OAAR,KAAoB;AACrC,MAAGD,KAAH,EAAU;AACR;AACAzB,IAAAA,OAAO,CAACyB,KAAR,CAAcA,KAAd;AACD,GAHD,MAGO;AACL;AACAzB,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD;AACF,CARD;AAUAP,cAAc,CAACiC,IAAf,CAAoB,GAApB,EAAyB,CAACC,GAAD,EAAKC,GAAL,EAAUC,IAAV,KAAmB;AAC1C;AACA,QAAMC,IAAI,GAAG;AACXC,IAAAA,IAAI,EAAG,GAAEJ,GAAG,CAACK,IAAJ,CAASC,KAAM,EADb;AAEXC,IAAAA,EAAE,EAAE,2BAFO;AAGXC,IAAAA,OAAO,EAAER,GAAG,CAACK,IAAJ,CAASG,OAHP;AAIXC,IAAAA,IAAI,EAAG;AACb;AACA,QAAQT,GAAG,CAACK,IAAJ,CAASK,IAAK;AACtB;AACA;AACA,QAAQV,GAAG,CAACK,IAAJ,CAASC,KAAM;AACvB;AACA;AACA;AACA,QAAQN,GAAG,CAACK,IAAJ,CAASI,IAAK;AAbL,GAAb,CAF0C,CAkB9C;;AAEIf,EAAAA,WAAW,CAACiB,QAAZ,CAAqBR,IAArB,EAA2B,CAACS,GAAD,EAAKC,IAAL,KAAc;AACvC,QAAGD,GAAH,EAAQ;AACNX,MAAAA,GAAG,CAACa,IAAJ,CAAS;AACPC,QAAAA,MAAM,EAAE;AADD,OAAT;AAGD,KAJD,MAIO;AACLd,MAAAA,GAAG,CAACa,IAAJ,CAAS;AACPC,QAAAA,MAAM,EAAE;AADD,OAAT;AAGD;AACF,GAVD;AAWD,CA/BD;AAkCFC,MAAM,CAACC,OAAP,GAAiBnD,cAAjB",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "const express = require('express');\nconst sendToMeRouter = express.Router();\nconst nodemailer = require('nodemailer');\nconst { google } = require('googleapis');\nconst OAuth2 = google.auth.OAuth2;\n\nconsole.log(\"from sendToMe\")\n\nconst oauth2Client = new OAuth2(\n  process.env.GMAIL_CLIENTID, // ClientID\n  process.env.GMAIL_CLIENTSECRET, // Client Secret\n  \"https://developers.google.com/oauthplayground\" // Redirect URL\n);\n\noauth2Client.setCredentials({\n  refresh_token: process.env.GMAIL_REFRESH_TOKEN\n});\nconst accessToken = oauth2Client.getAccessToken()\n\n\n//all of the configuration for making a site send an email.\nconst transport = {\n  // host: \"smtp.gmail.com\",\n  // port: 587,\n  // secure: false,\n  service:\"gmail\",\n  auth: {\n    type: \"OAuth2\",\n    user: process.env.GMAIL_ACC, \n    clientId: process.env.GMAIL_CLIENTID,\n    clientSecret: process.env.GMAIL_CLIENTSECRET,\n    refreshToken: process.env.GMAIL_REFRESH_TOKEN,\n    accessToken: accessToken,\n    tls: {\n      rejectUnauthorized: false\n    }\n  }\n};\n\nconst transporter = nodemailer.createTransport(transport);\n  transporter.verify((error, success) => {\n    if(error) {\n      //if error happened code ends here\n      console.error(error)\n    } else {\n      //this means success\n      console.log('users ready to mail myself')\n    }\n  });\n\n  sendToMeRouter.post('/', (req,res, next) => {\n    //make mailable object\n    const mail = {\n      from: `${req.body.email}`,\n      to: 'paquetraphaelle@gmail.com',\n      subject: req.body.subject,\n      text: `\n      from:\n      ${req.body.name} \n\n      contact: \n      ${req.body.email}\n\n      message: \n\n      ${req.body.text}`\n    }\n\n// error handling goes here. \n\n    transporter.sendMail(mail, (err,data) => {\n      if(err) {\n        res.json({\n          status: 'fail'\n        })\n      } else {\n        res.json({\n          status: 'success'\n        })\n      }\n    })\n  });\n\n\nmodule.exports = sendToMeRouter;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614190243159
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/petitsfruits',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtBQUNiQSxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixXQUFaLElBQTJCLGtDQUQzQjtBQUViRyxFQUFBQSxVQUFVLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFaLElBQTBCO0FBRnpCLEMiLCJzb3VyY2VSb290IjoiL1VzZXJzL3JhcGhhZWxsZXBhcXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L3BldGl0c2ZydWl0cycsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCdcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "MONGODB_URL",
        "process",
        "env",
        "JWT_SECRET"
      ],
      "mappings": ";;;;;;eAAe;AACbA,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WAAZ,IAA2B,kCAD3B;AAEbG,EAAAA,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B;AAFzB,C",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "export default {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/petitsfruits',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret'\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614271115220
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModels = _interopRequireDefault(require(\"../models/userModels\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModels.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      msg: 'Invalid Email or password.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModels.default({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsInNpZ25pblVzZXIiLCJVc2VyIiwiZmluZE9uZSIsImVtYWlsIiwiYm9keSIsInBhc3N3b3JkIiwic2VuZCIsIl9pZCIsImlkIiwibmFtZSIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1zZyIsImdldCIsInVzZXIiLCJuZXdVc2VyIiwic2F2ZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUdBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNQyxVQUFVLEdBQUcsTUFBTUMsb0JBQUtDLE9BQUwsQ0FBYTtBQUNwQ0MsSUFBQUEsS0FBSyxFQUFFTCxHQUFHLENBQUNNLElBQUosQ0FBU0QsS0FEb0I7QUFFcENFLElBQUFBLFFBQVEsRUFBRVAsR0FBRyxDQUFDTSxJQUFKLENBQVNDO0FBRmlCLEdBQWIsQ0FBekI7O0FBSUEsTUFBR0wsVUFBSCxFQUFlO0FBQ2JELElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQ1BDLE1BQUFBLEdBQUcsRUFBRVAsVUFBVSxDQUFDUSxFQURUO0FBRVBDLE1BQUFBLElBQUksRUFBRVQsVUFBVSxDQUFDUyxJQUZWO0FBR1BOLE1BQUFBLEtBQUssRUFBRUgsVUFBVSxDQUFDRyxLQUhYO0FBSVBPLE1BQUFBLE9BQU8sRUFBRVYsVUFBVSxDQUFDVSxPQUpiO0FBS1BDLE1BQUFBLEtBQUssRUFBRSxxQkFBU1gsVUFBVDtBQUxBLEtBQVQ7QUFPRCxHQVJELE1BUU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDYSxNQUFKLENBQVcsR0FBWCxFQUFnQk4sSUFBaEIsQ0FBcUI7QUFBQ08sTUFBQUEsR0FBRyxFQUFFO0FBQU4sS0FBckI7QUFDRDtBQUNGLENBaEJEO0FBa0JBbkIsTUFBTSxDQUFDb0IsR0FBUCxDQUFXLGNBQVgsRUFBMkIsT0FBT2hCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM3QyxNQUFJO0FBQ0YsVUFBTWdCLElBQUksR0FBRyxJQUFJZCxtQkFBSixDQUFTO0FBQ3BCUSxNQUFBQSxJQUFJLEVBQUUsT0FEYztBQUVwQk4sTUFBQUEsS0FBSyxFQUFFLHVCQUZhO0FBR3BCRSxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU0sT0FBTyxHQUFHLE1BQU1ELElBQUksQ0FBQ0UsSUFBTCxFQUF0QjtBQUNBbEIsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNVLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2RuQixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFFTyxNQUFBQSxHQUFHLEVBQUVLLEtBQUssQ0FBQ0M7QUFBYixLQUFUO0FBQ0Q7QUFDRixDQWJEO2VBZWV6QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVscyc7XG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgfSk7XG4gIGlmKHNpZ25pblVzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IHNpZ25pblVzZXIuaWQsXG4gICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXG4gICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IHNpZ25pblVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihzaWduaW5Vc2VyKSxcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttc2c6ICdJbnZhbGlkIEVtYWlsIG9yIHBhc3N3b3JkLid9KVxuICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZTogJ1NhcmFoJyxcbiAgICAgIGVtYWlsOiAnc2FyYWhwYXF1ZXRAZ21haWwuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAndGVzdCcsXG4gICAgICBpc0FkbWluOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKG5ld1VzZXIpOyBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc2VuZCh7IG1zZzogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "signinUser",
        "User",
        "findOne",
        "email",
        "body",
        "password",
        "send",
        "_id",
        "id",
        "name",
        "isAdmin",
        "token",
        "status",
        "msg",
        "get",
        "user",
        "newUser",
        "save",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAGAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMC,UAAU,GAAG,MAAMC,oBAAKC,OAAL,CAAa;AACpCC,IAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASD,KADoB;AAEpCE,IAAAA,QAAQ,EAAEP,GAAG,CAACM,IAAJ,CAASC;AAFiB,GAAb,CAAzB;;AAIA,MAAGL,UAAH,EAAe;AACbD,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACPC,MAAAA,GAAG,EAAEP,UAAU,CAACQ,EADT;AAEPC,MAAAA,IAAI,EAAET,UAAU,CAACS,IAFV;AAGPN,MAAAA,KAAK,EAAEH,UAAU,CAACG,KAHX;AAIPO,MAAAA,OAAO,EAAEV,UAAU,CAACU,OAJb;AAKPC,MAAAA,KAAK,EAAE,qBAASX,UAAT;AALA,KAAT;AAOD,GARD,MAQO;AACLD,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB;AAACO,MAAAA,GAAG,EAAE;AAAN,KAArB;AACD;AACF,CAhBD;AAkBAnB,MAAM,CAACoB,GAAP,CAAW,cAAX,EAA2B,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,MAAI;AACF,UAAMgB,IAAI,GAAG,IAAId,mBAAJ,CAAS;AACpBQ,MAAAA,IAAI,EAAE,OADc;AAEpBN,MAAAA,KAAK,EAAE,uBAFa;AAGpBE,MAAAA,QAAQ,EAAE,MAHU;AAIpBK,MAAAA,OAAO,EAAE;AAJW,KAAT,CAAb;AAMA,UAAMM,OAAO,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAtB;AACAlB,IAAAA,GAAG,CAACO,IAAJ,CAASU,OAAT;AACD,GATD,CASE,OAAOE,KAAP,EAAc;AACdnB,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEO,MAAAA,GAAG,EAAEK,KAAK,CAACC;AAAb,KAAT;AACD;AACF,CAbD;eAeezB,M",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModels';\nimport { getToken } from '../utils'\n\nconst router = express.Router();\n\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if(signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    })\n  } else {\n    res.status(401).send({msg: 'Invalid Email or password.'})\n  }\n})\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser); \n  } catch (error) {\n    res.send({ msg: error.message });\n  }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614290765164
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "userModels.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst userModel = _mongoose.default.model(\"User\", userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbHMuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEK0I7QUFFckNDLEVBQUFBLEtBQUssRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRSxJQUExQjtBQUFnQ0UsSUFBQUEsTUFBTSxFQUFFO0FBQXhDLEdBRjhCO0FBR3JDQyxFQUFBQSxRQUFRLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIMkI7QUFJckNJLEVBQUFBLE9BQU8sRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE9BQVI7QUFBaUJMLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ00sSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBSjRCLENBQXBCLENBQW5COztBQU9BLE1BQU1DLFNBQVMsR0FBR1osa0JBQVNhLEtBQVQsQ0FBZSxNQUFmLEVBQXVCZCxVQUF2QixDQUFsQjs7ZUFFZWEsUyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH1cbn0pO1xuXG5jb25zdCB1c2VyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IHVzZXJNb2RlbDsgIl19",
    "map": {
      "version": 3,
      "sources": [
        "userModels.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAF8B;AAGrCC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAH2B;AAIrCI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBL,IAAAA,QAAQ,EAAE,IAA3B;AAAiCM,IAAAA,OAAO,EAAE;AAA1C;AAJ4B,CAApB,CAAnB;;AAOA,MAAMC,SAAS,GAAGZ,kBAASa,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAlB;;eAEea,S",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  isAdmin: { type: Boolean, required: true, default: false }\n});\n\nconst userModel = mongoose.model(\"User\", userSchema);\n\nexport default userModel; "
      ]
    },
    "sourceType": "script",
    "mtime": 1614274803540
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/petitsfruits',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtBQUNiQSxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixXQUFaLElBQTJCLGtDQUQzQjtBQUViRyxFQUFBQSxVQUFVLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFaLElBQTBCO0FBRnpCLEMiLCJzb3VyY2VSb290IjoiL1VzZXJzL3JhcGhhZWxsZXBhcXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L3BldGl0c2ZydWl0cycsXG4gIEpXVF9TRUNSRVQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NvbWV0aGluZ3NlY3JldCdcbn0iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "MONGODB_URL",
        "process",
        "env",
        "JWT_SECRET"
      ],
      "mappings": ";;;;;;eAAe;AACbA,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WAAZ,IAA2B,kCAD3B;AAEbG,EAAAA,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B;AAFzB,C",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "export default {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/petitsfruits',\n  JWT_SECRET: process.env.JWT_SECRET || 'somethingsecret'\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614271115220
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModels = _interopRequireDefault(require(\"../models/userModels\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModels.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      msg: 'Invalid Email or password.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModels.default({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsInNpZ25pblVzZXIiLCJVc2VyIiwiZmluZE9uZSIsImVtYWlsIiwiYm9keSIsInBhc3N3b3JkIiwic2VuZCIsIl9pZCIsImlkIiwibmFtZSIsImlzQWRtaW4iLCJ0b2tlbiIsInN0YXR1cyIsIm1zZyIsImdldCIsInVzZXIiLCJuZXdVc2VyIiwic2F2ZSIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUdBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNQyxVQUFVLEdBQUcsTUFBTUMsb0JBQUtDLE9BQUwsQ0FBYTtBQUNwQ0MsSUFBQUEsS0FBSyxFQUFFTCxHQUFHLENBQUNNLElBQUosQ0FBU0QsS0FEb0I7QUFFcENFLElBQUFBLFFBQVEsRUFBRVAsR0FBRyxDQUFDTSxJQUFKLENBQVNDO0FBRmlCLEdBQWIsQ0FBekI7O0FBSUEsTUFBR0wsVUFBSCxFQUFlO0FBQ2JELElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTO0FBQ1BDLE1BQUFBLEdBQUcsRUFBRVAsVUFBVSxDQUFDUSxFQURUO0FBRVBDLE1BQUFBLElBQUksRUFBRVQsVUFBVSxDQUFDUyxJQUZWO0FBR1BOLE1BQUFBLEtBQUssRUFBRUgsVUFBVSxDQUFDRyxLQUhYO0FBSVBPLE1BQUFBLE9BQU8sRUFBRVYsVUFBVSxDQUFDVSxPQUpiO0FBS1BDLE1BQUFBLEtBQUssRUFBRSxxQkFBU1gsVUFBVDtBQUxBLEtBQVQ7QUFPRCxHQVJELE1BUU87QUFDTEQsSUFBQUEsR0FBRyxDQUFDYSxNQUFKLENBQVcsR0FBWCxFQUFnQk4sSUFBaEIsQ0FBcUI7QUFBQ08sTUFBQUEsR0FBRyxFQUFFO0FBQU4sS0FBckI7QUFDRDtBQUNGLENBaEJEO0FBa0JBbkIsTUFBTSxDQUFDb0IsR0FBUCxDQUFXLGNBQVgsRUFBMkIsT0FBT2hCLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUM3QyxNQUFJO0FBQ0YsVUFBTWdCLElBQUksR0FBRyxJQUFJZCxtQkFBSixDQUFTO0FBQ3BCUSxNQUFBQSxJQUFJLEVBQUUsT0FEYztBQUVwQk4sTUFBQUEsS0FBSyxFQUFFLHVCQUZhO0FBR3BCRSxNQUFBQSxRQUFRLEVBQUUsTUFIVTtBQUlwQkssTUFBQUEsT0FBTyxFQUFFO0FBSlcsS0FBVCxDQUFiO0FBTUEsVUFBTU0sT0FBTyxHQUFHLE1BQU1ELElBQUksQ0FBQ0UsSUFBTCxFQUF0QjtBQUNBbEIsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVNVLE9BQVQ7QUFDRCxHQVRELENBU0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2RuQixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFFTyxNQUFBQSxHQUFHLEVBQUVLLEtBQUssQ0FBQ0M7QUFBYixLQUFUO0FBQ0Q7QUFDRixDQWJEO2VBZWV6QixNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVscyc7XG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHNpZ25pblVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgfSk7XG4gIGlmKHNpZ25pblVzZXIpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBfaWQ6IHNpZ25pblVzZXIuaWQsXG4gICAgICBuYW1lOiBzaWduaW5Vc2VyLm5hbWUsXG4gICAgICBlbWFpbDogc2lnbmluVXNlci5lbWFpbCxcbiAgICAgIGlzQWRtaW46IHNpZ25pblVzZXIuaXNBZG1pbixcbiAgICAgIHRva2VuOiBnZXRUb2tlbihzaWduaW5Vc2VyKSxcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttc2c6ICdJbnZhbGlkIEVtYWlsIG9yIHBhc3N3b3JkLid9KVxuICB9XG59KVxuXG5yb3V0ZXIuZ2V0KCcvY3JlYXRlYWRtaW4nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoe1xuICAgICAgbmFtZTogJ1NhcmFoJyxcbiAgICAgIGVtYWlsOiAnc2FyYWhwYXF1ZXRAZ21haWwuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAndGVzdCcsXG4gICAgICBpc0FkbWluOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgIHJlcy5zZW5kKG5ld1VzZXIpOyBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXMuc2VuZCh7IG1zZzogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "signinUser",
        "User",
        "findOne",
        "email",
        "body",
        "password",
        "send",
        "_id",
        "id",
        "name",
        "isAdmin",
        "token",
        "status",
        "msg",
        "get",
        "user",
        "newUser",
        "save",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAGAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMC,UAAU,GAAG,MAAMC,oBAAKC,OAAL,CAAa;AACpCC,IAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASD,KADoB;AAEpCE,IAAAA,QAAQ,EAAEP,GAAG,CAACM,IAAJ,CAASC;AAFiB,GAAb,CAAzB;;AAIA,MAAGL,UAAH,EAAe;AACbD,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACPC,MAAAA,GAAG,EAAEP,UAAU,CAACQ,EADT;AAEPC,MAAAA,IAAI,EAAET,UAAU,CAACS,IAFV;AAGPN,MAAAA,KAAK,EAAEH,UAAU,CAACG,KAHX;AAIPO,MAAAA,OAAO,EAAEV,UAAU,CAACU,OAJb;AAKPC,MAAAA,KAAK,EAAE,qBAASX,UAAT;AALA,KAAT;AAOD,GARD,MAQO;AACLD,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB;AAACO,MAAAA,GAAG,EAAE;AAAN,KAArB;AACD;AACF,CAhBD;AAkBAnB,MAAM,CAACoB,GAAP,CAAW,cAAX,EAA2B,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,MAAI;AACF,UAAMgB,IAAI,GAAG,IAAId,mBAAJ,CAAS;AACpBQ,MAAAA,IAAI,EAAE,OADc;AAEpBN,MAAAA,KAAK,EAAE,uBAFa;AAGpBE,MAAAA,QAAQ,EAAE,MAHU;AAIpBK,MAAAA,OAAO,EAAE;AAJW,KAAT,CAAb;AAMA,UAAMM,OAAO,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAtB;AACAlB,IAAAA,GAAG,CAACO,IAAJ,CAASU,OAAT;AACD,GATD,CASE,OAAOE,KAAP,EAAc;AACdnB,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEO,MAAAA,GAAG,EAAEK,KAAK,CAACC;AAAb,KAAT;AACD;AACF,CAbD;eAeezB,M",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModels';\nimport { getToken } from '../utils'\n\nconst router = express.Router();\n\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if(signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    })\n  } else {\n    res.status(401).send({msg: 'Invalid Email or password.'})\n  }\n})\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser); \n  } catch (error) {\n    res.send({ msg: error.message });\n  }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614290765164
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/userModels.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "userModels.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n});\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbHMuanMiXSwibmFtZXMiOlsidXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJVc2VyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFVBQVUsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUFvQjtBQUNyQ0MsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRCtCO0FBRXJDQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NFLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUY4QjtBQUdyQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQUVMLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBSDJCO0FBSXJDSSxFQUFBQSxPQUFPLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFTyxPQUFSO0FBQWlCTCxJQUFBQSxRQUFRLEVBQUUsSUFBM0I7QUFBaUNNLElBQUFBLE9BQU8sRUFBRTtBQUExQztBQUo0QixDQUFwQixDQUFuQjs7QUFPQSxNQUFNQyxJQUFJLEdBQUdaLGtCQUFTYSxLQUFULENBQWUsTUFBZixFQUF1QmQsVUFBdkIsQ0FBYjs7ZUFFZWEsSSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6IGZhbHNlIH1cbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsIHVzZXJTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyOyAiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userModels.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "User",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD+B;AAErCC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE,IAA1B;AAAgCE,IAAAA,MAAM,EAAE;AAAxC,GAF8B;AAGrCC,EAAAA,QAAQ,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAH2B;AAIrCI,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEO,OAAR;AAAiBL,IAAAA,QAAQ,EAAE,IAA3B;AAAiCM,IAAAA,OAAO,EAAE;AAA1C;AAJ4B,CAApB,CAAnB;;AAOA,MAAMC,IAAI,GAAGZ,kBAASa,KAAT,CAAe,MAAf,EAAuBd,UAAvB,CAAb;;eAEea,I",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  isAdmin: { type: Boolean, required: true, default: false }\n});\n\nconst User = mongoose.model(\"User\", userSchema);\n\nexport default User; "
      ]
    },
    "sourceType": "script",
    "mtime": 1614556239387
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          msg: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      msg: \"Token is not supplied.\"\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    msg: \"Admin Token is not valid.\"\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdldFRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwib25seVRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGUiLCJzdGF0dXMiLCJzZW5kIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxRQUFRLEdBQUlDLElBQUQsSUFBVTtBQUN6QixTQUFPQyxzQkFBSUMsSUFBSixDQUFTO0FBQ2RDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURJO0FBRWRDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZHO0FBR2RDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhFO0FBSWRDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtBQUpBLEdBQVQsRUFLSkMsZ0JBQU9DLFVBTEgsRUFLZTtBQUNwQkMsSUFBQUEsU0FBUyxFQUFFO0FBRFMsR0FMZixDQUFQO0FBUUQsQ0FURDs7OztBQVdBLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNqQyxRQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUExQjs7QUFDQSxNQUFHRixLQUFILEVBQVU7QUFDUixVQUFNRyxTQUFTLEdBQUdILEtBQUssQ0FBQ0ksS0FBTixDQUFZLENBQVosRUFBZUosS0FBSyxDQUFDSyxNQUFyQixDQUFsQjs7QUFDQWxCLDBCQUFJbUIsTUFBSixDQUFXSCxTQUFYLEVBQXNCVixnQkFBT0MsVUFBN0IsRUFBeUMsQ0FBQ2EsR0FBRCxFQUFNQyxNQUFOLEtBQWlCO0FBQ3hELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9ULEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLEdBQUcsRUFBRTtBQUFQLFNBQXJCLENBQVA7QUFDRDs7QUFDRGQsTUFBQUEsR0FBRyxDQUFDWCxJQUFKLEdBQVdzQixNQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDSjtBQUNELEtBUEQ7QUFRRCxHQVZELE1BVU87QUFDTCxXQUFPRCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUU7QUFBTixLQUFyQixDQUFQO0FBQ0Q7QUFDRixDQWZEOzs7O0FBaUJBLE1BQU1uQixPQUFPLEdBQUcsQ0FBQ0ssR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsTUFBSUYsR0FBRyxDQUFDWCxJQUFKLElBQVlXLEdBQUcsQ0FBQ1gsSUFBSixDQUFTTSxPQUF6QixFQUFrQztBQUNoQyxXQUFPTyxJQUFJLEVBQVg7QUFDRDs7QUFDQyxTQUFPRCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxHQUFHLEVBQUM7QUFBTixHQUFyQixDQUFQO0FBQ0gsQ0FMRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKHtcbiAgICBfaWQ6IHVzZXIuX2lkLFxuICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW5cbiAgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46ICc0OGgnXG4gIH0pXG59XG5cbmNvbnN0IGlzQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGlmKHRva2VuKSB7XG4gICAgY29uc3Qgb25seVRva2VuID0gdG9rZW4uc2xpY2UoNywgdG9rZW4ubGVuZ3RoKVxuICAgIGp3dC52ZXJpZnkob25seVRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbXNnOiAnSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICB9XG4gICAgICByZXEudXNlciA9IGRlY29kZTtcbiAgICAgIG5leHQoKTtcbiAgICAgIHJldHVyblxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttc2c6IFwiVG9rZW4gaXMgbm90IHN1cHBsaWVkLlwifSlcbiAgfVxufVxuXG5jb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1zZzpcIkFkbWluIFRva2VuIGlzIG5vdCB2YWxpZC5cIiB9KVxufVxuXG5leHBvcnQge1xuICBnZXRUb2tlbiwgaXNBZG1pbiwgaXNBdXRoXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "msg"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CAAS;AACdC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADI;AAEdC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFG;AAGdC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHE;AAIdC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJA,GAAT,EAKJC,gBAAOC,UALH,EAKe;AACpBC,IAAAA,SAAS,EAAE;AADS,GALf,CAAP;AAQD,CATD;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,MAAGF,KAAH,EAAU;AACR,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAGD,GAAH,EAAQ;AACN,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,GAAG,EAAE;AAAP,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,GAAG,EAAE;AAAN,KAArB,CAAP;AACD;AACF,CAfD;;;;AAiBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,MAAIF,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACC,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,GAAG,EAAC;AAAN,GAArB,CAAP;AACH,CALD",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\nimport config from './config';\n\nconst getToken = (user) => {\n  return jwt.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, config.JWT_SECRET, {\n    expiresIn: '48h'\n  })\n}\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n  if(token) {\n    const onlyToken = token.slice(7, token.length)\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n      if(err) {\n        return res.status(401).send({ msg: 'Invalid Token' });\n      }\n      req.user = decode;\n      next();\n      return\n    })\n  } else {\n    return res.status(401).send({msg: \"Token is not supplied.\"})\n  }\n}\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n    return res.status(401).send({ msg:\"Admin Token is not valid.\" })\n}\n\nexport {\n  getToken, isAdmin, isAuth\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614292199466
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/utils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
        "sourceFileName": "utils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAuth = exports.isAdmin = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          msg: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      msg: \"Token is not supplied.\"\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    msg: \"Admin Token is not valid.\"\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImdldFRva2VuIiwidXNlciIsImp3dCIsInNpZ24iLCJfaWQiLCJuYW1lIiwiZW1haWwiLCJpc0FkbWluIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsImlzQXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwib25seVRva2VuIiwic2xpY2UiLCJsZW5ndGgiLCJ2ZXJpZnkiLCJlcnIiLCJkZWNvZGUiLCJzdGF0dXMiLCJzZW5kIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxRQUFRLEdBQUlDLElBQUQsSUFBVTtBQUN6QixTQUFPQyxzQkFBSUMsSUFBSixDQUFTO0FBQ2RDLElBQUFBLEdBQUcsRUFBRUgsSUFBSSxDQUFDRyxHQURJO0FBRWRDLElBQUFBLElBQUksRUFBRUosSUFBSSxDQUFDSSxJQUZHO0FBR2RDLElBQUFBLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUhFO0FBSWRDLElBQUFBLE9BQU8sRUFBRU4sSUFBSSxDQUFDTTtBQUpBLEdBQVQsRUFLSkMsZ0JBQU9DLFVBTEgsRUFLZTtBQUNwQkMsSUFBQUEsU0FBUyxFQUFFO0FBRFMsR0FMZixDQUFQO0FBUUQsQ0FURDs7OztBQVdBLE1BQU1DLE1BQU0sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNqQyxRQUFNQyxLQUFLLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZQyxhQUExQjs7QUFDQSxNQUFHRixLQUFILEVBQVU7QUFDUixVQUFNRyxTQUFTLEdBQUdILEtBQUssQ0FBQ0ksS0FBTixDQUFZLENBQVosRUFBZUosS0FBSyxDQUFDSyxNQUFyQixDQUFsQjs7QUFDQWxCLDBCQUFJbUIsTUFBSixDQUFXSCxTQUFYLEVBQXNCVixnQkFBT0MsVUFBN0IsRUFBeUMsQ0FBQ2EsR0FBRCxFQUFNQyxNQUFOLEtBQWlCO0FBQ3hELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9ULEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFVBQUFBLEdBQUcsRUFBRTtBQUFQLFNBQXJCLENBQVA7QUFDRDs7QUFDRGQsTUFBQUEsR0FBRyxDQUFDWCxJQUFKLEdBQVdzQixNQUFYO0FBQ0FULE1BQUFBLElBQUk7QUFDSjtBQUNELEtBUEQ7QUFRRCxHQVZELE1BVU87QUFDTCxXQUFPRCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFDQyxNQUFBQSxHQUFHLEVBQUU7QUFBTixLQUFyQixDQUFQO0FBQ0Q7QUFDRixDQWZEOzs7O0FBaUJBLE1BQU1uQixPQUFPLEdBQUcsQ0FBQ0ssR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsTUFBSUYsR0FBRyxDQUFDWCxJQUFKLElBQVlXLEdBQUcsQ0FBQ1gsSUFBSixDQUFTTSxPQUF6QixFQUFrQztBQUNoQyxXQUFPTyxJQUFJLEVBQVg7QUFDRDs7QUFDQyxTQUFPRCxHQUFHLENBQUNXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxJQUFBQSxHQUFHLEVBQUM7QUFBTixHQUFyQixDQUFQO0FBQ0gsQ0FMRCIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbmNvbnN0IGdldFRva2VuID0gKHVzZXIpID0+IHtcbiAgcmV0dXJuIGp3dC5zaWduKHtcbiAgICBfaWQ6IHVzZXIuX2lkLFxuICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICBpc0FkbWluOiB1c2VyLmlzQWRtaW5cbiAgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcbiAgICBleHBpcmVzSW46ICc0OGgnXG4gIH0pXG59XG5cbmNvbnN0IGlzQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGlmKHRva2VuKSB7XG4gICAgY29uc3Qgb25seVRva2VuID0gdG9rZW4uc2xpY2UoNywgdG9rZW4ubGVuZ3RoKVxuICAgIGp3dC52ZXJpZnkob25seVRva2VuLCBjb25maWcuSldUX1NFQ1JFVCwgKGVyciwgZGVjb2RlKSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHsgbXNnOiAnSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICB9XG4gICAgICByZXEudXNlciA9IGRlY29kZTtcbiAgICAgIG5leHQoKTtcbiAgICAgIHJldHVyblxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5zZW5kKHttc2c6IFwiVG9rZW4gaXMgbm90IHN1cHBsaWVkLlwifSlcbiAgfVxufVxuXG5jb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1zZzpcIkFkbWluIFRva2VuIGlzIG5vdCB2YWxpZC5cIiB9KVxufVxuXG5leHBvcnQge1xuICBnZXRUb2tlbiwgaXNBZG1pbiwgaXNBdXRoXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "utils.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "msg"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACzB,SAAOC,sBAAIC,IAAJ,CAAS;AACdC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADI;AAEdC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFG;AAGdC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHE;AAIdC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJA,GAAT,EAKJC,gBAAOC,UALH,EAKe;AACpBC,IAAAA,SAAS,EAAE;AADS,GALf,CAAP;AAQD,CATD;;;;AAWA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,MAAGF,KAAH,EAAU;AACR,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACxD,UAAGD,GAAH,EAAQ;AACN,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,GAAG,EAAE;AAAP,SAArB,CAAP;AACD;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACD,KAPD;AAQD,GAVD,MAUO;AACL,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,GAAG,EAAE;AAAN,KAArB,CAAP;AACD;AACF,CAfD;;;;AAiBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,MAAIF,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAChC,WAAOO,IAAI,EAAX;AACD;;AACC,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,GAAG,EAAC;AAAN,GAArB,CAAP;AACH,CALD",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken';\nimport config from './config';\n\nconst getToken = (user) => {\n  return jwt.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, config.JWT_SECRET, {\n    expiresIn: '48h'\n  })\n}\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n  if(token) {\n    const onlyToken = token.slice(7, token.length)\n    jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n      if(err) {\n        return res.status(401).send({ msg: 'Invalid Token' });\n      }\n      req.user = decode;\n      next();\n      return\n    })\n  } else {\n    return res.status(401).send({msg: \"Token is not supplied.\"})\n  }\n}\n\nconst isAdmin = (req, res, next) => {\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n    return res.status(401).send({ msg:\"Admin Token is not valid.\" })\n}\n\nexport {\n  getToken, isAdmin, isAuth\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1614292199466
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _utils = require(\"../utils\");\n\nvar _data = _interopRequireDefault(require(\"../data.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); // /* GET LIST OF PRODUCTS */\n// router.get(\"/\", async (req, res) => {\n//   const products = await Product.find({}); \n//   res.send(products);\n// });\n\n\nrouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const createdProducts = await _productModel.default.insertMany(_data.default.products);\n  res.send({\n    createdProducts\n  });\n}));\n/* GET PRODUCT BY CATEGORY */\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const products = await _productModel.default.find({ ...category\n  });\n  res.send(products);\n});\n/* GET PRODUCT BY ID */\n\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\n/* CREATE NEW PRODUCT */\n\nrouter.post(\"/\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    description: req.body.description,\n    category: req.body.category,\n    countInStock: req.body.countInStock\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    res.status(201).send({\n      msg: \"New Product Created. \",\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    msg: \"Error in Creating Product. \"\n  });\n});\n/* UPDATE PRODUCT */\n\nrouter.put(\"/:id\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.description = req.body.description;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        msg: \"Product Updated\",\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    msg: \"Error in Updated Product. \"\n  });\n});\n/* DELETE PRODUCT */\n\nrouter.delete(\"/:id\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      msg: \"Product deleted\"\n    });\n  } else {\n    res.send(\"Error in Deletion.\");\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY3JlYXRlZFByb2R1Y3RzIiwiUHJvZHVjdCIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdHMiLCJzZW5kIiwiY2F0ZWdvcnkiLCJxdWVyeSIsImZpbmQiLCJwcm9kdWN0IiwiZmluZE9uZSIsIl9pZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJpc0F1dGgiLCJpc0FkbWluIiwibmFtZSIsImJvZHkiLCJwcmljZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJjb3VudEluU3RvY2siLCJuZXdQcm9kdWN0Iiwic2F2ZSIsIm1zZyIsInB1dCIsInByb2R1Y3RJZCIsImZpbmRCeUlkIiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVkUHJvZHVjdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsT0FBWCxFQUFvQixrQ0FBb0IsT0FBTUMsR0FBTixFQUFVQyxHQUFWLEtBQWtCO0FBQ3hELFFBQU1DLGVBQWUsR0FBRyxNQUFNQyxzQkFBUUMsVUFBUixDQUFtQkMsY0FBS0MsUUFBeEIsQ0FBOUI7QUFDQUwsRUFBQUEsR0FBRyxDQUFDTSxJQUFKLENBQVM7QUFBRUwsSUFBQUE7QUFBRixHQUFUO0FBQ0QsQ0FIbUIsQ0FBcEI7QUFLQTs7QUFDQU4sTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsUUFBTU8sUUFBUSxHQUFHUixHQUFHLENBQUNTLEtBQUosQ0FBVUQsUUFBVixHQUFxQjtB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cXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcbmltcG9ydCB7IGdldFRva2VuLCBpc0FkbWluLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgZGF0YSBmcm9tICcuLi9kYXRhLmpzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyAvKiBHRVQgTElTVCBPRiBQUk9EVUNUUyAqL1xuLy8gcm91dGVyLmdldChcIi9cIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4vLyAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHt9KTsgXG4vLyAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbi8vIH0pO1xuXG5yb3V0ZXIuZ2V0KCcvc2VlZCcsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcykgPT4ge1xuICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gIHJlcy5zZW5kKHsgY3JlYXRlZFByb2R1Y3RzIH0pXG59KSlcblxuLyogR0VUIFBST0RVQ1QgQlkgQ0FURUdPUlkgKi9cbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgPyB7IGNhdGVnb3J5OiByZXEucXVlcnkuY2F0ZWdvcnkgfSA6IHt9O1xuICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IC4uLmNhdGVnb3J5IH0pO1xuICByZXMuc2VuZChwcm9kdWN0cyk7XG59KTtcblxuLyogR0VUIFBST0RVQ1QgQlkgSUQgKi9cbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZC4nIH0pO1xuICB9XG59KTtcblxuLyogQ1JFQVRFIE5FVyBQUk9EVUNUICovXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyhyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcbiAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxuICAgIGNvdW50SW5TdG9jazogcmVxLmJvZHkuY291bnRJblN0b2NrXG4gIH0pO1xuICBjb25zdCBuZXdQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gIGlmKG5ld1Byb2R1Y3QpIHtcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IG1zZzogXCJOZXcgUHJvZHVjdCBDcmVhdGVkLiBcIiwgZGF0YTogbmV3UHJvZHVjdCB9KVxuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1zZzogXCJFcnJvciBpbiBDcmVhdGluZyBQcm9kdWN0LiBcIn0pXG59KVxuXG4vKiBVUERBVEUgUFJPRFVDVCAqL1xucm91dGVyLnB1dChcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIGlmKHVwZGF0ZWRQcm9kdWN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBtc2c6IFwiUHJvZHVjdCBVcGRhdGVkXCIsIGRhdGE6IHVwZGF0ZWRQcm9kdWN0IH0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1zZzogXCJFcnJvciBpbiBVcGRhdGVkIFByb2R1Y3QuIFwifSlcbn0pO1xuXG4vKiBERUxFVEUgUFJPRFVDVCAqL1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZihkZWxldGVkUHJvZHVjdCkge1xuICAgIGF3YWl0IGRlbGV0ZWRQcm9kdWN0LnJlbW92ZSgpO1xuICAgIHJlcy5zZW5kKHsgbXNnOiBcIlByb2R1Y3QgZGVsZXRlZFwifSlcbiAgfSBlbHNlIHtcbiAgICByZXMuc2VuZChcIkVycm9yIGluIERlbGV0aW9uLlwiKVxuICB9XG59KVxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "createdProducts",
        "Product",
        "insertMany",
        "data",
        "products",
        "send",
        "category",
        "query",
        "find",
        "product",
        "findOne",
        "_id",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isAdmin",
        "name",
        "body",
        "price",
        "image",
        "description",
        "countInStock",
        "newProduct",
        "save",
        "msg",
        "put",
        "productId",
        "findById",
        "updatedProduct",
        "delete",
        "deletedProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../models/productModel';\nimport { getToken, isAdmin, isAuth } from '../utils';\nimport data from '../data.js'\n\nconst router = express.Router();\n\n// /* GET LIST OF PRODUCTS */\n// router.get(\"/\", async (req, res) => {\n//   const products = await Product.find({}); \n//   res.send(products);\n// });\n\nrouter.get('/seed', expressAsyncHandler(async(req,res) => {\n  const createdProducts = await Product.insertMany(data.products);\n  res.send({ createdProducts })\n}))\n\n/* GET PRODUCT BY CATEGORY */\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? { category: req.query.category } : {};\n  const products = await Product.find({ ...category });\n  res.send(products);\n});\n\n/* GET PRODUCT BY ID */\nrouter.get('/:id', async (req, res) => {\n  const product = await Product.findOne({ _id: req.params.id });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n});\n\n/* CREATE NEW PRODUCT */\nrouter.post(\"/\", isAuth, isAdmin, async(req, res) => {\n  const product = new Product({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    description: req.body.description,\n    category: req.body.category,\n    countInStock: req.body.countInStock\n  });\n  const newProduct = await product.save();\n  if(newProduct) {\n    res.status(201).send({ msg: \"New Product Created. \", data: newProduct })\n  }\n  return res.status(500).send({ msg: \"Error in Creating Product. \"})\n})\n\n/* UPDATE PRODUCT */\nrouter.put(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await Product.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.description = req.body.description;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    const updatedProduct = await product.save();\n    if(updatedProduct) {\n      return res.status(200).send({ msg: \"Product Updated\", data: updatedProduct })\n    }\n  }\n  return res.status(500).send({ msg: \"Error in Updated Product. \"})\n});\n\n/* DELETE PRODUCT */\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const deletedProduct = await Product.findById(req.params.id);\n  if(deletedProduct) {\n    await deletedProduct.remove();\n    res.send({ msg: \"Product deleted\"})\n  } else {\n    res.send(\"Error in Deletion.\")\n  }\n})\n\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1614522445475
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model(\"Product\", productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwiY291bnRJblN0b2NrIiwiTnVtYmVyIiwiZGVmYXVsdCIsInByaWNlIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLEtBQUssRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZUO0FBR0VFLEVBQUFBLFFBQVEsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVHLEVBQUFBLFdBQVcsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUpmO0FBS0VJLEVBQUFBLFlBQVksRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBQyxDQUF4QjtBQUEyQk4sSUFBQUEsUUFBUSxFQUFFO0FBQXJDLEdBTGhCO0FBTUVPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVPLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBQyxDQUF4QjtBQUEyQk4sSUFBQUEsUUFBUSxFQUFFO0FBQXJDO0FBTlQsQ0FEb0IsRUFVcEI7QUFDRVEsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FWb0IsQ0FBdEI7O0FBZUEsTUFBTUMsT0FBTyxHQUFHZCxrQkFBU2UsS0FBVCxDQUFlLFNBQWYsRUFBMEJoQixhQUExQixDQUFoQjs7ZUFFZWUsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKFwiUHJvZHVjdFwiLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsgIl19",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "image",
        "category",
        "description",
        "countInStock",
        "Number",
        "default",
        "price",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFT;AAGEE,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEG,EAAAA,WAAW,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJf;AAKEI,EAAAA,YAAY,EAAE;AAAEN,IAAAA,IAAI,EAAEO,MAAR;AAAgBC,IAAAA,OAAO,EAAC,CAAxB;AAA2BN,IAAAA,QAAQ,EAAE;AAArC,GALhB;AAMEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEO,MAAR;AAAgBC,IAAAA,OAAO,EAAC,CAAxB;AAA2BN,IAAAA,QAAQ,EAAE;AAArC;AANT,CADoB,EAUpB;AACEQ,EAAAA,UAAU,EAAE;AADd,CAVoB,CAAtB;;AAeA,MAAMC,OAAO,GAAGd,kBAASe,KAAT,CAAe,SAAf,EAA0BhB,aAA1B,CAAhB;;eAEee,O",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    image: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    countInStock: { type: Number, default:0, required: true },\n    price: { type: Number, default:0, required: true },\n    \n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst Product = mongoose.model(\"Product\", productSchema);\n\nexport default Product; "
      ]
    },
    "sourceType": "script",
    "mtime": 1614554726758
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _utils = require(\"../utils\");\n\nvar _data = _interopRequireDefault(require(\"../data.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); // /* GET LIST OF PRODUCTS */\n// router.get(\"/\", async (req, res) => {\n//   const products = await Product.find({}); \n//   res.send(products);\n// });\n\n\nrouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const createdProducts = await _productModel.default.insertMany(_data.default.products);\n  res.send({\n    createdProducts\n  });\n}));\n/* GET PRODUCT BY CATEGORY */\n\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {};\n  const products = await _productModel.default.find({ ...category\n  });\n  res.send(products);\n});\n/* GET PRODUCT BY ID */\n\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\n/* CREATE NEW PRODUCT */\n\nrouter.post(\"/\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    description: req.body.description,\n    category: req.body.category,\n    countInStock: req.body.countInStock\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    res.status(201).send({\n      msg: \"New Product Created. \",\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    msg: \"Error in Creating Product. \"\n  });\n});\n/* UPDATE PRODUCT */\n\nrouter.put(\"/:id\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.description = req.body.description;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        msg: \"Product Updated\",\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    msg: \"Error in Updated Product. \"\n  });\n});\n/* DELETE PRODUCT */\n\nrouter.delete(\"/:id\", _utils.isAuth, _utils.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      msg: \"Product deleted\"\n    });\n  } else {\n    res.send(\"Error in Deletion.\");\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY3JlYXRlZFByb2R1Y3RzIiwiUHJvZHVjdCIsImluc2VydE1hbnkiLCJkYXRhIiwicHJvZHVjdHMiLCJzZW5kIiwiY2F0ZWdvcnkiLCJxdWVyeSIsImZpbmQiLCJwcm9kdWN0IiwiZmluZE9uZSIsIl9pZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJpc0F1dGgiLCJpc0FkbWluIiwibmFtZSIsImJvZHkiLCJwcmljZSIsImltYWdlIiwiZGVzY3JpcHRpb24iLCJjb3VudEluU3RvY2siLCJuZXdQcm9kdWN0Iiwic2F2ZSIsIm1zZyIsInB1dCIsInByb2R1Y3RJZCIsImZpbmRCeUlkIiwidXBkYXRlZFByb2R1Y3QiLCJkZWxldGUiLCJkZWxldGVkUHJvZHVjdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLEMsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsT0FBWCxFQUFvQixrQ0FBb0IsT0FBTUMsR0FBTixFQUFVQyxHQUFWLEtBQWtCO0FBQ3hELFFBQU1DLGVBQWUsR0FBRyxNQUFNQyxzQkFBUUMsVUFBUixDQUFtQkMsY0FBS0MsUUFBeEIsQ0FBOUI7QUFDQUwsRUFBQUEsR0FBRyxDQUFDTSxJQUFKLENBQVM7QUFBRUwsSUFBQUE7QUFBRixHQUFUO0FBQ0QsQ0FIbUIsQ0FBcEI7QUFLQTs7QUFDQU4sTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsUUFBTU8sUUFBUSxHQUFHUixHQUFHLENBQUNTLEtBQUosQ0FBVUQsUUFBVixHQUFxQjtB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cXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdE1vZGVsJztcbmltcG9ydCB7IGdldFRva2VuLCBpc0FkbWluLCBpc0F1dGggfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgZGF0YSBmcm9tICcuLi9kYXRhLmpzJ1xuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG4vLyAvKiBHRVQgTElTVCBPRiBQUk9EVUNUUyAqL1xuLy8gcm91dGVyLmdldChcIi9cIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4vLyAgIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHt9KTsgXG4vLyAgIHJlcy5zZW5kKHByb2R1Y3RzKTtcbi8vIH0pO1xuXG5yb3V0ZXIuZ2V0KCcvc2VlZCcsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcykgPT4ge1xuICBjb25zdCBjcmVhdGVkUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0Lmluc2VydE1hbnkoZGF0YS5wcm9kdWN0cyk7XG4gIHJlcy5zZW5kKHsgY3JlYXRlZFByb2R1Y3RzIH0pXG59KSlcblxuLyogR0VUIFBST0RVQ1QgQlkgQ0FURUdPUlkgKi9cbnJvdXRlci5nZXQoJy8nLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgY2F0ZWdvcnkgPSByZXEucXVlcnkuY2F0ZWdvcnkgPyB7IGNhdGVnb3J5OiByZXEucXVlcnkuY2F0ZWdvcnkgfSA6IHt9O1xuICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IC4uLmNhdGVnb3J5IH0pO1xuICByZXMuc2VuZChwcm9kdWN0cyk7XG59KTtcblxuLyogR0VUIFBST0RVQ1QgQlkgSUQgKi9cbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICByZXMuc2VuZChwcm9kdWN0KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZC4nIH0pO1xuICB9XG59KTtcblxuLyogQ1JFQVRFIE5FVyBQUk9EVUNUICovXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyhyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwcm9kdWN0ID0gbmV3IFByb2R1Y3Qoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxuICAgIGltYWdlOiByZXEuYm9keS5pbWFnZSxcbiAgICBkZXNjcmlwdGlvbjogcmVxLmJvZHkuZGVzY3JpcHRpb24sXG4gICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxuICAgIGNvdW50SW5TdG9jazogcmVxLmJvZHkuY291bnRJblN0b2NrXG4gIH0pO1xuICBjb25zdCBuZXdQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gIGlmKG5ld1Byb2R1Y3QpIHtcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IG1zZzogXCJOZXcgUHJvZHVjdCBDcmVhdGVkLiBcIiwgZGF0YTogbmV3UHJvZHVjdCB9KVxuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1zZzogXCJFcnJvciBpbiBDcmVhdGluZyBQcm9kdWN0LiBcIn0pXG59KVxuXG4vKiBVUERBVEUgUFJPRFVDVCAqL1xucm91dGVyLnB1dChcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdElkID0gcmVxLnBhcmFtcy5pZDtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgaWYgKHByb2R1Y3QpIHtcbiAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIGlmKHVwZGF0ZWRQcm9kdWN0KSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBtc2c6IFwiUHJvZHVjdCBVcGRhdGVkXCIsIGRhdGE6IHVwZGF0ZWRQcm9kdWN0IH0pXG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1zZzogXCJFcnJvciBpbiBVcGRhdGVkIFByb2R1Y3QuIFwifSlcbn0pO1xuXG4vKiBERUxFVEUgUFJPRFVDVCAqL1xucm91dGVyLmRlbGV0ZShcIi86aWRcIiwgaXNBdXRoLCBpc0FkbWluLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZGVsZXRlZFByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZihkZWxldGVkUHJvZHVjdCkge1xuICAgIGF3YWl0IGRlbGV0ZWRQcm9kdWN0LnJlbW92ZSgpO1xuICAgIHJlcy5zZW5kKHsgbXNnOiBcIlByb2R1Y3QgZGVsZXRlZFwifSlcbiAgfSBlbHNlIHtcbiAgICByZXMuc2VuZChcIkVycm9yIGluIERlbGV0aW9uLlwiKVxuICB9XG59KVxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "createdProducts",
        "Product",
        "insertMany",
        "data",
        "products",
        "send",
        "category",
        "query",
        "find",
        "product",
        "findOne",
        "_id",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isAdmin",
        "name",
        "body",
        "price",
        "image",
        "description",
        "countInStock",
        "newProduct",
        "save",
        "msg",
        "put",
        "productId",
        "findById",
        "updatedProduct",
        "delete",
        "deletedProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../models/productModel';\nimport { getToken, isAdmin, isAuth } from '../utils';\nimport data from '../data.js'\n\nconst router = express.Router();\n\n// /* GET LIST OF PRODUCTS */\n// router.get(\"/\", async (req, res) => {\n//   const products = await Product.find({}); \n//   res.send(products);\n// });\n\nrouter.get('/seed', expressAsyncHandler(async(req,res) => {\n  const createdProducts = await Product.insertMany(data.products);\n  res.send({ createdProducts })\n}))\n\n/* GET PRODUCT BY CATEGORY */\nrouter.get('/', async (req, res) => {\n  const category = req.query.category ? { category: req.query.category } : {};\n  const products = await Product.find({ ...category });\n  res.send(products);\n});\n\n/* GET PRODUCT BY ID */\nrouter.get('/:id', async (req, res) => {\n  const product = await Product.findOne({ _id: req.params.id });\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n});\n\n/* CREATE NEW PRODUCT */\nrouter.post(\"/\", isAuth, isAdmin, async(req, res) => {\n  const product = new Product({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    description: req.body.description,\n    category: req.body.category,\n    countInStock: req.body.countInStock\n  });\n  const newProduct = await product.save();\n  if(newProduct) {\n    res.status(201).send({ msg: \"New Product Created. \", data: newProduct })\n  }\n  return res.status(500).send({ msg: \"Error in Creating Product. \"})\n})\n\n/* UPDATE PRODUCT */\nrouter.put(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await Product.findById(productId);\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.description = req.body.description;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    const updatedProduct = await product.save();\n    if(updatedProduct) {\n      return res.status(200).send({ msg: \"Product Updated\", data: updatedProduct })\n    }\n  }\n  return res.status(500).send({ msg: \"Error in Updated Product. \"})\n});\n\n/* DELETE PRODUCT */\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n  const deletedProduct = await Product.findById(req.params.id);\n  if(deletedProduct) {\n    await deletedProduct.remove();\n    res.send({ msg: \"Product deleted\"})\n  } else {\n    res.send(\"Error in Deletion.\")\n  }\n})\n\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1614522445475
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  }\n}, {\n  timestamps: true\n});\n\nconst Product = _mongoose.default.model(\"Product\", productSchema);\n\nvar _default = Product;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0U2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiaW1hZ2UiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwiY291bnRJblN0b2NrIiwiTnVtYmVyIiwiZGVmYXVsdCIsInByaWNlIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQ3BCO0FBQ0VDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURSO0FBRUVDLEVBQUFBLEtBQUssRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUZUO0FBR0VFLEVBQUFBLFFBQVEsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhaO0FBSUVHLEVBQUFBLFdBQVcsRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUpmO0FBS0VJLEVBQUFBLFlBQVksRUFBRTtBQUFFTixJQUFBQSxJQUFJLEVBQUVPLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBQyxDQUF4QjtBQUEyQk4sSUFBQUEsUUFBUSxFQUFFO0FBQXJDLEdBTGhCO0FBTUVPLEVBQUFBLEtBQUssRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVPLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBQyxDQUF4QjtBQUEyQk4sSUFBQUEsUUFBUSxFQUFFO0FBQXJDO0FBTlQsQ0FEb0IsRUFVcEI7QUFDRVEsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0FWb0IsQ0FBdEI7O0FBZUEsTUFBTUMsT0FBTyxHQUFHZCxrQkFBU2UsS0FBVCxDQUFlLFNBQWYsRUFBMEJoQixhQUExQixDQUFoQjs7ZUFFZWUsTyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaW1hZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNhdGVnb3J5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDowLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIFxuICB9LFxuICB7XG4gICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgfVxuKTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKFwiUHJvZHVjdFwiLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsgIl19",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "productSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "image",
        "category",
        "description",
        "countInStock",
        "Number",
        "default",
        "price",
        "timestamps",
        "Product",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CACpB;AACEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADR;AAEEC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFT;AAGEE,EAAAA,QAAQ,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHZ;AAIEG,EAAAA,WAAW,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJf;AAKEI,EAAAA,YAAY,EAAE;AAAEN,IAAAA,IAAI,EAAEO,MAAR;AAAgBC,IAAAA,OAAO,EAAC,CAAxB;AAA2BN,IAAAA,QAAQ,EAAE;AAArC,GALhB;AAMEO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEO,MAAR;AAAgBC,IAAAA,OAAO,EAAC,CAAxB;AAA2BN,IAAAA,QAAQ,EAAE;AAArC;AANT,CADoB,EAUpB;AACEQ,EAAAA,UAAU,EAAE;AADd,CAVoB,CAAtB;;AAeA,MAAMC,OAAO,GAAGd,kBAASe,KAAT,CAAe,SAAf,EAA0BhB,aAA1B,CAAhB;;eAEee,O",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst productSchema = new mongoose.Schema(\n  {\n    name: { type: String, required: true },\n    image: { type: String, required: true },\n    category: { type: String, required: true },\n    description: { type: String, required: true },\n    countInStock: { type: Number, default:0, required: true },\n    price: { type: Number, default:0, required: true },\n    \n  },\n  {\n    timestamps: true,\n  }\n);\n\nconst Product = mongoose.model(\"Product\", productSchema);\n\nexport default Product; "
      ]
    },
    "sourceType": "script",
    "mtime": 1614554726758
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nvar _sendToMe = require(\"./sendToMe.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      msg: 'Cart is empty'\n    });\n  } else {\n    const newOrder = new _orderModel.default({\n      orderItems: req.body.orderItems,\n      shipping: req.body.shipping,\n      payment: req.body.payment,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      totalPrice: req.body.totalPrice\n    });\n    const createOrder = await newOrder.save();\n    res.status(201).send({\n      msg: 'New order created',\n      data: createOrder\n    });\n  }\n}));\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsInNlbmQiLCJtc2ciLCJuZXdPcmRlciIsIk9yZGVyIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInNoaXBwaW5nUHJpY2UiLCJ0b3RhbFByaWNlIiwiY3JlYXRlT3JkZXIiLCJzYXZlIiwiZGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxHQUFaLEVBQWlCLGtDQUFvQixPQUFNQyxHQUFOLEVBQVdDLEdBQVgsS0FBbUI7QUFDdEQsTUFBR0QsR0FBRyxDQUFDRSxJQUFKLENBQVNDLFVBQVQsQ0FBb0JDLE1BQXBCLEtBQStCLENBQWxDLEVBQXFDO0FBQ25DSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxHQUFHLEVBQUU7QUFBUCxLQUFyQjtBQUNELEdBRkQsTUFFTztBQUNMLFVBQU1DLFFBQVEsR0FBRyxJQUFJQyxtQkFBSixDQUFVO0FBQ3pCTixNQUFBQSxVQUFVLEVBQUVILEdBQUcsQ0FBQ0UsSUFBSixDQUFTQyxVQURJO0FBRXpCTyxNQUFBQSxRQUFRLEVBQUVWLEdBQUcsQ0FBQ0UsSUFBSixDQUFTUSxRQUZNO0FBR3pCQyxNQUFBQSxPQUFPLEVBQUVYLEdBQUcsQ0FBQ0UsSUFBSixDQUFTUyxPQUhPO0FBSXpCQyxNQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ0UsSUFBSixDQUFTVSxVQUpJO0FBS3pCQyxNQUFBQSxhQUFhLEVBQUViLEdBQUcsQ0FBQ0UsSUFBSixDQUFTVyxhQUxDO0FBTXpCQyxNQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ0UsSUFBSixDQUFTWTtBQU5JLEtBQVYsQ0FBakI7QUFRQSxVQUFNQyxXQUFXLEdBQUcsTUFBTVAsUUFBUSxDQUFDUSxJQUFULEVBQTFCO0FBQ0FmLElBQUFBLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLEdBQUcsRUFBRSxtQkFBUDtBQUE0QlUsTUFBQUEsSUFBSSxFQUFFRjtBQUFsQyxLQUFyQjtBQUNDO0FBQ0YsQ0FmYyxDQUFqQjtlQWtCZW5CLE0iLCJzb3VyY2VSb290IjoiL1VzZXJzL3JhcGhhZWxsZXBhcXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBleHByZXNzQXN5bmNIYW5kbGVyIGZyb20gJ2V4cHJlc3MtYXN5bmMtaGFuZGxlcic7XG5pbXBvcnQgT3JkZXIgZnJvbSAnLi4vbW9kZWxzL29yZGVyTW9kZWwuanMnO1xuaW1wb3J0IHsgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHsgcm91dGUgfSBmcm9tICcuL3NlbmRUb01lLmpzJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoJy8nLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gIGlmKHJlcS5ib2R5Lm9yZGVySXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtc2c6ICdDYXJ0IGlzIGVtcHR5JyB9KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxuICAgICAgcGF5bWVudDogcmVxLmJvZHkucGF5bWVudCxcbiAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICBzaGlwcGluZ1ByaWNlOiByZXEuYm9keS5zaGlwcGluZ1ByaWNlLFxuICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVPcmRlciA9IGF3YWl0IG5ld09yZGVyLnNhdmUoKTtcbiAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7IG1zZzogJ05ldyBvcmRlciBjcmVhdGVkJywgZGF0YTogY3JlYXRlT3JkZXIgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "body",
        "orderItems",
        "length",
        "status",
        "send",
        "msg",
        "newOrder",
        "Order",
        "shipping",
        "payment",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "createOrder",
        "save",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiB,kCAAoB,OAAMC,GAAN,EAAWC,GAAX,KAAmB;AACtD,MAAGD,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,MAApB,KAA+B,CAAlC,EAAqC;AACnCH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,QAAQ,GAAG,IAAIC,mBAAJ,CAAU;AACzBN,MAAAA,UAAU,EAAEH,GAAG,CAACE,IAAJ,CAASC,UADI;AAEzBO,MAAAA,QAAQ,EAAEV,GAAG,CAACE,IAAJ,CAASQ,QAFM;AAGzBC,MAAAA,OAAO,EAAEX,GAAG,CAACE,IAAJ,CAASS,OAHO;AAIzBC,MAAAA,UAAU,EAAEZ,GAAG,CAACE,IAAJ,CAASU,UAJI;AAKzBC,MAAAA,aAAa,EAAEb,GAAG,CAACE,IAAJ,CAASW,aALC;AAMzBC,MAAAA,UAAU,EAAEd,GAAG,CAACE,IAAJ,CAASY;AANI,KAAV,CAAjB;AAQA,UAAMC,WAAW,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAA1B;AACAf,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE,mBAAP;AAA4BU,MAAAA,IAAI,EAAEF;AAAlC,KAArB;AACC;AACF,CAfc,CAAjB;eAkBenB,M",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../models/orderModel.js';\nimport { isAuth } from '../utils.js';\nimport { route } from './sendToMe.js';\n\nconst router = express.Router();\n\nrouter.post('/', expressAsyncHandler(async(req, res) => {\n  if(req.body.orderItems.length === 0) {\n    res.status(400).send({ msg: 'Cart is empty' });\n  } else {\n    const newOrder = new Order({\n      orderItems: req.body.orderItems,\n      shipping: req.body.shipping,\n      payment: req.body.payment,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      totalPrice: req.body.totalPrice,\n    });\n    const createOrder = await newOrder.save();\n    res.status(201).send({ msg: 'New order created', data: createOrder });\n    }\n  })\n);\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614528071904
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  shippingAddress: {\n    contact: {\n      type: String,\n      required: true\n    },\n    firstName: {\n      type: String,\n      required: false\n    },\n    lastName: {\n      type: String,\n      required: true\n    },\n    appartment: {\n      type: String,\n      required: false\n    },\n    province: {\n      type: String,\n      required: true\n    },\n    address: {\n      type: String,\n      required: true\n    },\n    city: {\n      type: String,\n      required: true\n    },\n    postalCode: {\n      type: String,\n      required: true\n    },\n    country: {\n      type: String,\n      required: true\n    },\n    lat: Number,\n    lng: Number\n  },\n  paymentMethod: {\n    type: String,\n    required: true\n  },\n  paymentResult: {\n    id: String,\n    status: String,\n    update_time: String,\n    email_address: String\n  },\n  itemsPrice: {\n    type: Number,\n    required: true\n  },\n  shippingPrice: {\n    type: Number,\n    required: true\n  },\n  totalPrice: {\n    type: Number,\n    required: true\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicXR5IiwiTnVtYmVyIiwiaW1hZ2UiLCJwcmljZSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic2hpcHBpbmdBZGRyZXNzIiwiY29udGFjdCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYXBwYXJ0bWVudCIsInByb3ZpbmNlIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsImxhdCIsImxuZyIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0IiwiaWQiLCJzdGF0dXMiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIk9yZGVyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNsQjtBQUNFQyxFQUFBQSxVQUFVLEVBQUUsQ0FDVjtBQUNFQyxJQUFBQSxJQUFJLEVBQUU7QUFBRUMsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FEUjtBQUVFQyxJQUFBQSxHQUFHLEVBQUU7QUFBRUgsTUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCRixNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FGUDtBQUdFRyxJQUFBQSxLQUFLLEVBQUU7QUFBRUwsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FIVDtBQUlF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QSxPQUFPLEVBQUU7QUFBMUIsR0F2Q2Y7QUF3Q0VJLEVBQUFBLFdBQVcsRUFBRTtBQUFFdEMsSUFBQUEsSUFBSSxFQUFFb0M7QUFBUjtBQXhDZixDQURrQixFQTJDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0EzQ2tCLENBQXBCOztBQStDQSxNQUFNQyxLQUFLLEdBQUc1QyxrQkFBUzZDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCOUMsV0FBeEIsQ0FBZDs7ZUFDZTZDLEsiLCJzb3VyY2VSb290IjoiL1VzZXJzL3JhcGhhZWxsZXBhcXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBvcmRlckl0ZW1zOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBzaGlwcGluZ0FkZHJlc3M6IHtcbiAgICAgIGNvbnRhY3Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgZmlyc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICBsYXN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhcHBhcnRtZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICBwcm92aW5jZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGxhdDogTnVtYmVyLFxuICAgICAgbG5nOiBOdW1iZXIsXG4gICAgfSxcbiAgICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwYXltZW50UmVzdWx0OiB7XG4gICAgICBpZDogU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICB1cGRhdGVfdGltZTogU3RyaW5nLFxuICAgICAgZW1haWxfYWRkcmVzczogU3RyaW5nLFxuICAgIH0sXG4gICAgaXRlbXNQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBPcmRlciA9IG1vbmdvb3NlLm1vZGVsKCdPcmRlcicsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "shippingAddress",
        "contact",
        "firstName",
        "lastName",
        "appartment",
        "province",
        "address",
        "city",
        "postalCode",
        "country",
        "lat",
        "lng",
        "paymentMethod",
        "paymentResult",
        "id",
        "status",
        "update_time",
        "email_address",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst orderSchema = new mongoose.Schema(\n  {\n    orderItems: [\n      {\n        name: { type: String, required: true },\n        qty: { type: Number, required: true },\n        image: { type: String, required: true },\n        price: { type: Number, required: true },\n        product: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'Product',\n          required: true,\n        },\n      },\n    ],\n    shippingAddress: {\n      contact: { type: String, required: true },\n      firstName: { type: String, required: false },\n      lastName: { type: String, required: true },\n      appartment: { type: String, required: false },\n      province: { type: String, required: true },\n      address: { type: String, required: true },\n      city: { type: String, required: true },\n      postalCode: { type: String, required: true },\n      country: { type: String, required: true },\n      lat: Number,\n      lng: Number,\n    },\n    paymentMethod: { type: String, required: true },\n    paymentResult: {\n      id: String,\n      status: String,\n      update_time: String,\n      email_address: String,\n    },\n    itemsPrice: { type: Number, required: true },\n    shippingPrice: { type: Number, required: true },\n    totalPrice: { type: Number, required: true },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Order = mongoose.model('Order', orderSchema);\nexport default Order;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614529079227
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      totalPrice: req.body.totalPrice\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsib3JkZXJSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsImlzQXV0aCIsInJlcSIsInJlcyIsImJvZHkiLCJvcmRlckl0ZW1zIiwibGVuZ3RoIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJvcmRlciIsIk9yZGVyIiwic2hpcHBpbmdBZGRyZXNzIiwicGF5bWVudE1ldGhvZCIsIml0ZW1zUHJpY2UiLCJzaGlwcGluZ1ByaWNlIiwidG90YWxQcmljZSIsImNyZWF0ZWRPcmRlciIsInNhdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQU9BLE1BQU1BLFdBQVcsR0FBR0MsaUJBQVFDLE1BQVIsRUFBcEI7O0FBRUFGLFdBQVcsQ0FBQ0csSUFBWixDQUNFLEdBREYsRUFFRUMsYUFGRixFQUdFLGtDQUFvQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdEMsTUFBSUQsR0FBRyxDQUFDRSxJQUFKLENBQVNDLFVBQVQsQ0FBb0JDLE1BQXBCLEtBQStCLENBQW5DLEVBQXNDO0FBQ3BDSCxJQUFBQSxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNELEdBRkQsTUFFTztBQUNMLFVBQU1DLEtBQUssR0FBRyxJQUFJQyxtQkFBSixDQUFVO0FBQ3RCTixNQUFBQSxVQUFVLEVBQUVILEdBQUcsQ0FBQ0UsSUFBSixDQUFTQyxVQURDO0FBRXRCTyxNQUFBQSxlQUFlLEVBQUVWLEdBQUcsQ0FBQ0UsSUFBSixDQUFTUSxlQUZKO0FBR3RCQyxNQUFBQSxhQUFhLEVBQUVYLEdBQUcsQ0FBQ0UsSUFBSixDQUFTUyxhQUhGO0FBSXRCQyxNQUFBQSxVQUFVLEVBQUVaLEdBQUcsQ0FBQ0UsSUFBSixDQUFTVSxVQUpDO0FBS3RCQyxNQUFBQSxhQUFhLEVBQUViLEdBQUcsQ0FBQ0UsSUFBSixDQUFTVyxhQUxGO0FBTXRCQyxNQUFBQSxVQUFVLEVBQUVkLEdBQUcsQ0FBQ0UsSUFBSixDQUFTWTtBQU5DLEtBQVYsQ0FBZDtBQVFBLFVBQU1DLFlBQVksR0FBRyxNQUFNUCxLQUFLLENBQUNRLElBQU4sRUFBM0I7QUFDQWYsSUFBQUEsR0FBRyxDQUNBSSxNQURILENBQ1UsR0FEVixFQUVHQyxJQUZILENBRVE7QUFBRUMsTUFBQUEsT0FBTyxFQUFFLG1CQUFYO0FBQWdDQyxNQUFBQSxLQUFLLEVBQUVPO0FBQXZDLEtBRlI7QUFHRDtBQUNGLENBakJELENBSEY7ZUF3QmVwQixXIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IE9yZGVyIGZyb20gJy4uL21vZGVscy9vcmRlck1vZGVsLmpzJztcbmltcG9ydCB7XG4gIGlzQWRtaW4sXG4gIGlzQXV0aCxcbiAgbWFpbGd1bixcbiAgcGF5T3JkZXJFbWFpbFRlbXBsYXRlLFxufSBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IG9yZGVyUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxub3JkZXJSb3V0ZXIucG9zdChcbiAgJy8nLFxuICBpc0F1dGgsXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKHJlcS5ib2R5Lm9yZGVySXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IG1lc3NhZ2U6ICdDYXJ0IGlzIGVtcHR5JyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3JkZXIgPSBuZXcgT3JkZXIoe1xuICAgICAgICBvcmRlckl0ZW1zOiByZXEuYm9keS5vcmRlckl0ZW1zLFxuICAgICAgICBzaGlwcGluZ0FkZHJlc3M6IHJlcS5ib2R5LnNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogcmVxLmJvZHkucGF5bWVudE1ldGhvZCxcbiAgICAgICAgaXRlbXNQcmljZTogcmVxLmJvZHkuaXRlbXNQcmljZSxcbiAgICAgICAgc2hpcHBpbmdQcmljZTogcmVxLmJvZHkuc2hpcHBpbmdQcmljZSxcbiAgICAgICAgdG90YWxQcmljZTogcmVxLmJvZHkudG90YWxQcmljZSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY3JlYXRlZE9yZGVyID0gYXdhaXQgb3JkZXIuc2F2ZSgpO1xuICAgICAgcmVzXG4gICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAuc2VuZCh7IG1lc3NhZ2U6ICdOZXcgT3JkZXIgQ3JlYXRlZCcsIG9yZGVyOiBjcmVhdGVkT3JkZXIgfSk7XG4gICAgfVxuICB9KVxuKTtcblxuXG5leHBvcnQgZGVmYXVsdCBvcmRlclJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "post",
        "isAuth",
        "req",
        "res",
        "body",
        "orderItems",
        "length",
        "status",
        "send",
        "message",
        "order",
        "Order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "createdOrder",
        "save"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAOA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CACE,GADF,EAEEC,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,MAAID,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,MAApB,KAA+B,CAAnC,EAAsC;AACpCH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAG,IAAIC,mBAAJ,CAAU;AACtBN,MAAAA,UAAU,EAAEH,GAAG,CAACE,IAAJ,CAASC,UADC;AAEtBO,MAAAA,eAAe,EAAEV,GAAG,CAACE,IAAJ,CAASQ,eAFJ;AAGtBC,MAAAA,aAAa,EAAEX,GAAG,CAACE,IAAJ,CAASS,aAHF;AAItBC,MAAAA,UAAU,EAAEZ,GAAG,CAACE,IAAJ,CAASU,UAJC;AAKtBC,MAAAA,aAAa,EAAEb,GAAG,CAACE,IAAJ,CAASW,aALF;AAMtBC,MAAAA,UAAU,EAAEd,GAAG,CAACE,IAAJ,CAASY;AANC,KAAV,CAAd;AAQA,UAAMC,YAAY,GAAG,MAAMP,KAAK,CAACQ,IAAN,EAA3B;AACAf,IAAAA,GAAG,CACAI,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,mBAAX;AAAgCC,MAAAA,KAAK,EAAEO;AAAvC,KAFR;AAGD;AACF,CAjBD,CAHF;eAwBepB,W",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../models/orderModel.js';\nimport {\n  isAdmin,\n  isAuth,\n  mailgun,\n  payOrderEmailTemplate,\n} from '../utils.js';\n\nconst orderRouter = express.Router();\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        totalPrice: req.body.totalPrice,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\n\nexport default orderRouter;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614529485346
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderSchema = new _mongoose.default.Schema({\n  orderItems: [{\n    name: {\n      type: String,\n      required: true\n    },\n    qty: {\n      type: Number,\n      required: true\n    },\n    image: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    product: {\n      type: _mongoose.default.Schema.Types.ObjectId,\n      ref: 'Product',\n      required: true\n    }\n  }],\n  shippingAddress: {\n    contact: {\n      type: String,\n      required: true\n    },\n    firstName: {\n      type: String,\n      required: false\n    },\n    lastName: {\n      type: String,\n      required: true\n    },\n    appartment: {\n      type: String,\n      required: false\n    },\n    province: {\n      type: String,\n      required: true\n    },\n    address: {\n      type: String,\n      required: true\n    },\n    city: {\n      type: String,\n      required: true\n    },\n    postalCode: {\n      type: String,\n      required: true\n    },\n    country: {\n      type: String,\n      required: true\n    },\n    lat: Number,\n    lng: Number\n  },\n  paymentMethod: {\n    type: String,\n    required: true\n  },\n  paymentResult: {\n    id: String,\n    status: String,\n    update_time: String,\n    email_address: String\n  },\n  itemsPrice: {\n    type: Number,\n    required: true\n  },\n  shippingPrice: {\n    type: Number,\n    required: true\n  },\n  totalPrice: {\n    type: Number,\n    required: true\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = _mongoose.default.model('Order', orderSchema);\n\nvar _default = Order;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsib3JkZXJTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm9yZGVySXRlbXMiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwicXR5IiwiTnVtYmVyIiwiaW1hZ2UiLCJwcmljZSIsInByb2R1Y3QiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwic2hpcHBpbmdBZGRyZXNzIiwiY29udGFjdCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYXBwYXJ0bWVudCIsInByb3ZpbmNlIiwiYWRkcmVzcyIsImNpdHkiLCJwb3N0YWxDb2RlIiwiY291bnRyeSIsImxhdCIsImxuZyIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0IiwiaWQiLCJzdGF0dXMiLCJ1cGRhdGVfdGltZSIsImVtYWlsX2FkZHJlc3MiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIk9yZGVyIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNsQjtBQUNFQyxFQUFBQSxVQUFVLEVBQUUsQ0FDVjtBQUNFQyxJQUFBQSxJQUFJLEVBQUU7QUFBRUMsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FEUjtBQUVFQyxJQUFBQSxHQUFHLEVBQUU7QUFBRUgsTUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCRixNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FGUDtBQUdFRyxJQUFBQSxLQUFLLEVBQUU7QUFBRUwsTUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxNQUFBQSxRQUFRLEVBQUU7QUFBMUIsS0FIVDtBQUlF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QSxPQUFPLEVBQUU7QUFBMUIsR0F2Q2Y7QUF3Q0VJLEVBQUFBLFdBQVcsRUFBRTtBQUFFdEMsSUFBQUEsSUFBSSxFQUFFb0M7QUFBUjtBQXhDZixDQURrQixFQTJDbEI7QUFDRUcsRUFBQUEsVUFBVSxFQUFFO0FBRGQsQ0EzQ2tCLENBQXBCOztBQStDQSxNQUFNQyxLQUFLLEdBQUc1QyxrQkFBUzZDLEtBQVQsQ0FBZSxPQUFmLEVBQXdCOUMsV0FBeEIsQ0FBZDs7ZUFDZTZDLEsiLCJzb3VyY2VSb290IjoiL1VzZXJzL3JhcGhhZWxsZXBhcXVldC9saWdodGhvdXNlL3BldGl0c2ZydWl0cy9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBvcmRlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBvcmRlckl0ZW1zOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBxdHk6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICAgICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBzaGlwcGluZ0FkZHJlc3M6IHtcbiAgICAgIGNvbnRhY3Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgZmlyc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICBsYXN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhcHBhcnRtZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICBwcm92aW5jZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBhZGRyZXNzOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgICAgcG9zdGFsQ29kZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICBjb3VudHJ5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgIGxhdDogTnVtYmVyLFxuICAgICAgbG5nOiBOdW1iZXIsXG4gICAgfSxcbiAgICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwYXltZW50UmVzdWx0OiB7XG4gICAgICBpZDogU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICB1cGRhdGVfdGltZTogU3RyaW5nLFxuICAgICAgZW1haWxfYWRkcmVzczogU3RyaW5nLFxuICAgIH0sXG4gICAgaXRlbXNQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgdG90YWxQcmljZTogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaXNQYWlkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgcGFpZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgICBpc0RlbGl2ZXJlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIGRlbGl2ZXJlZEF0OiB7IHR5cGU6IERhdGUgfSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbik7XG5jb25zdCBPcmRlciA9IG1vbmdvb3NlLm1vZGVsKCdPcmRlcicsIG9yZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IE9yZGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "orderSchema",
        "mongoose",
        "Schema",
        "orderItems",
        "name",
        "type",
        "String",
        "required",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "shippingAddress",
        "contact",
        "firstName",
        "lastName",
        "appartment",
        "province",
        "address",
        "city",
        "postalCode",
        "country",
        "lat",
        "lng",
        "paymentMethod",
        "paymentResult",
        "id",
        "status",
        "update_time",
        "email_address",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "Order",
        "model"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst orderSchema = new mongoose.Schema(\n  {\n    orderItems: [\n      {\n        name: { type: String, required: true },\n        qty: { type: Number, required: true },\n        image: { type: String, required: true },\n        price: { type: Number, required: true },\n        product: {\n          type: mongoose.Schema.Types.ObjectId,\n          ref: 'Product',\n          required: true,\n        },\n      },\n    ],\n    shippingAddress: {\n      contact: { type: String, required: true },\n      firstName: { type: String, required: false },\n      lastName: { type: String, required: true },\n      appartment: { type: String, required: false },\n      province: { type: String, required: true },\n      address: { type: String, required: true },\n      city: { type: String, required: true },\n      postalCode: { type: String, required: true },\n      country: { type: String, required: true },\n      lat: Number,\n      lng: Number,\n    },\n    paymentMethod: { type: String, required: true },\n    paymentResult: {\n      id: String,\n      status: String,\n      update_time: String,\n      email_address: String,\n    },\n    itemsPrice: { type: Number, required: true },\n    shippingPrice: { type: Number, required: true },\n    totalPrice: { type: Number, required: true },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n  },\n  {\n    timestamps: true,\n  }\n);\nconst Order = mongoose.model('Order', orderSchema);\nexport default Order;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614529079227
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModels = _interopRequireDefault(require(\"../models/userModels\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModels.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      msg: 'Invalid Email or password.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModels.default({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJzaWduaW5Vc2VyIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJwYXNzd29yZCIsInNlbmQiLCJfaWQiLCJpZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtc2ciLCJnZXQiLCJ1c2VyIiwibmV3VXNlciIsInNhdmUiLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFHQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG9CQUFLQyxPQUFMLENBQWE7QUFDcENDLElBQUFBLEtBQUssRUFBRUwsR0FBRyxDQUFDTSxJQUFKLENBQVNELEtBRG9CO0FBRXBDRSxJQUFBQSxRQUFRLEVBQUVQLEdBQUcsQ0FBQ00sSUFBSixDQUFTQztBQUZpQixHQUFiLENBQXpCOztBQUlBLE1BQUdMLFVBQUgsRUFBZTtBQUNiRCxJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUNQQyxNQUFBQSxHQUFHLEVBQUVQLFVBQVUsQ0FBQ1EsRUFEVDtBQUVQQyxNQUFBQSxJQUFJLEVBQUVULFVBQVUsQ0FBQ1MsSUFGVjtBQUdQTixNQUFBQSxLQUFLLEVBQUVILFVBQVUsQ0FBQ0csS0FIWDtBQUlQTyxNQUFBQSxPQUFPLEVBQUVWLFVBQVUsQ0FBQ1UsT0FKYjtBQUtQQyxNQUFBQSxLQUFLLEVBQUUscUJBQVNYLFVBQVQ7QUFMQSxLQUFUO0FBT0QsR0FSRCxNQVFPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLEdBQVgsRUFBZ0JOLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLEdBQUcsRUFBRTtBQUFOLEtBQXJCO0FBQ0Q7QUFDRixDQWhCRDtBQWtCQW5CLE1BQU0sQ0FBQ29CLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLE9BQU9oQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0MsTUFBSTtBQUNGLFVBQU1nQixJQUFJLEdBQUcsSUFBSWQsbUJBQUosQ0FBUztBQUNwQlEsTUFBQUEsSUFBSSxFQUFFLE9BRGM7QUFFcEJOLE1BQUFBLEtBQUssRUFBRSx1QkFGYTtBQUdwQkUsTUFBQUEsUUFBUSxFQUFFLE1BSFU7QUFJcEJLLE1BQUFBLE9BQU8sRUFBRTtBQUpXLEtBQVQsQ0FBYjtBQU1BLFVBQU1NLE9BQU8sR0FBRyxNQUFNRCxJQUFJLENBQUNFLElBQUwsRUFBdEI7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxPQUFUO0FBQ0QsR0FURCxDQVNFLE9BQU9FLEtBQVAsRUFBYztBQUNkbkIsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBRU8sTUFBQUEsR0FBRyxFQUFFSyxLQUFLLENBQUNDO0FBQWIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVlekIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbHMnO1xuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICcuLi91dGlscydcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuXG5yb3V0ZXIucG9zdCgnL3NpZ25pbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkXG4gIH0pO1xuICBpZihzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bXNnOiAnSW52YWxpZCBFbWFpbCBvciBwYXNzd29yZC4nfSlcbiAgfVxufSlcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdTYXJhaCcsXG4gICAgICBlbWFpbDogJ3NhcmFocGFxdWV0QGdtYWlsLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Rlc3QnLFxuICAgICAgaXNBZG1pbjogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZChuZXdVc2VyKTsgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnNlbmQoeyBtc2c6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "signinUser",
        "User",
        "findOne",
        "email",
        "body",
        "password",
        "send",
        "_id",
        "id",
        "name",
        "isAdmin",
        "token",
        "status",
        "msg",
        "get",
        "user",
        "newUser",
        "save",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAGAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMC,UAAU,GAAG,MAAMC,oBAAKC,OAAL,CAAa;AACpCC,IAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASD,KADoB;AAEpCE,IAAAA,QAAQ,EAAEP,GAAG,CAACM,IAAJ,CAASC;AAFiB,GAAb,CAAzB;;AAIA,MAAGL,UAAH,EAAe;AACbD,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACPC,MAAAA,GAAG,EAAEP,UAAU,CAACQ,EADT;AAEPC,MAAAA,IAAI,EAAET,UAAU,CAACS,IAFV;AAGPN,MAAAA,KAAK,EAAEH,UAAU,CAACG,KAHX;AAIPO,MAAAA,OAAO,EAAEV,UAAU,CAACU,OAJb;AAKPC,MAAAA,KAAK,EAAE,qBAASX,UAAT;AALA,KAAT;AAOD,GARD,MAQO;AACLD,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB;AAACO,MAAAA,GAAG,EAAE;AAAN,KAArB;AACD;AACF,CAhBD;AAkBAnB,MAAM,CAACoB,GAAP,CAAW,cAAX,EAA2B,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,MAAI;AACF,UAAMgB,IAAI,GAAG,IAAId,mBAAJ,CAAS;AACpBQ,MAAAA,IAAI,EAAE,OADc;AAEpBN,MAAAA,KAAK,EAAE,uBAFa;AAGpBE,MAAAA,QAAQ,EAAE,MAHU;AAIpBK,MAAAA,OAAO,EAAE;AAJW,KAAT,CAAb;AAMA,UAAMM,OAAO,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAtB;AACAlB,IAAAA,GAAG,CAACO,IAAJ,CAASU,OAAT;AACD,GATD,CASE,OAAOE,KAAP,EAAc;AACdnB,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEO,MAAAA,GAAG,EAAEK,KAAK,CAACC;AAAb,KAAT;AACD;AACF,CAbD;eAeezB,M",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModels';\nimport { getToken } from '../utils'\n\nconst router = express.Router();\n\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if(signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    })\n  } else {\n    res.status(401).send({msg: 'Invalid Email or password.'})\n  }\n})\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser); \n  } catch (error) {\n    res.send({ msg: error.message });\n  }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614530222923
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _utils = require(\"../utils\");\n\nvar _data = _interopRequireDefault(require(\"../data.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const category = req.query.category || '';\n  const order = req.query.order || '';\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const products = await _productModel.default.find({ ...categoryFilter\n  });\n  res.send(products);\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const createdProducts = await _productModel.default.insertMany(products);\n  res.send({\n    createdProducts\n  });\n}));\n/* GET PRODUCT BY CATEGORY */\n\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\n/* GET PRODUCT BY ID */\n\nproductRouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n});\n/* CREATE NEW PRODUCT */\n\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ',\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\n/* UPDATE PRODUCT */\n\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\n/* DELETE PRODUCT */\n\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeSIsInF1ZXJ5Iiwib3JkZXIiLCJjYXRlZ29yeUZpbHRlciIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzZW5kIiwiY3JlYXRlZFByb2R1Y3RzIiwiaW5zZXJ0TWFueSIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsInByb2R1Y3QiLCJmaW5kQnlJZCIsInBhcmFtcyIsImlkIiwic3RhdHVzIiwibWVzc2FnZSIsInBvc3QiLCJpc0F1dGgiLCJpc0FkbWluIiwibmFtZSIsImltYWdlIiwicHJpY2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwiY3JlYXRlZFByb2R1Y3QiLCJzYXZlIiwicHV0IiwicHJvZHVjdElkIiwiYm9keSIsInVwZGF0ZWRQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxpQkFBUUMsTUFBUixFQUF0Qjs7QUFHQUYsYUFBYSxDQUFDRyxHQUFkLENBQWtCLEdBQWxCLEVBQXVCLGtDQUFvQixPQUFPQyxHQUFQLEVBQVdDLEdBQVgsS0FBbUI7QUFDNUQsUUFBTUMsUUFBUSxHQUFHRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsUUFBVixJQUFzQixFQUF2QztBQUNBLFFBQU1FLEtBQUssR0FBR0osR0FBRyxDQUFDRyxLQUFKLENBQVVDLEtBQVYsSUFBbUIsRUFBakM7QUFDQSxRQUFNQyxjQUFjLEdBQUdILFFBQVEsR0FBRztBQUFFQSxJQUFBQTtBQUFGLEdBQUgsR0FBa0IsRUFBakQ7QUFDQSxRQUFNSSxRQUFRLEdBQUcsTUFBTUMsc0JBQVFDLElBQVIsQ0FBYSxFQUNsQyxHQUFHSDtBQUQrQixH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QUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFyQjtBQUNEO0FBQ0YsQ0FSRCxDQURGO2VBYWV2QixhIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yYXBoYWVsbGVwYXF1ZXQvbGlnaHRob3VzZS9wZXRpdHNmcnVpdHMvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgZXhwcmVzc0FzeW5jSGFuZGxlciBmcm9tICdleHByZXNzLWFzeW5jLWhhbmRsZXInO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XG5pbXBvcnQgeyBnZXRUb2tlbiwgaXNBZG1pbiwgaXNBdXRoIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IGRhdGEgZnJvbSAnLi4vZGF0YS5qcydcblxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxucHJvZHVjdFJvdXRlci5nZXQoJy8nLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEscmVzKSA9PiB7XG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5IHx8ICcnO1xuICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgY29uc3QgY2F0ZWdvcnlGaWx0ZXIgPSBjYXRlZ29yeSA/IHsgY2F0ZWdvcnkgfSA6IHt9O1xuICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7XG4gICAgLi4uY2F0ZWdvcnlGaWx0ZXJcbiAgfSlcbiAgcmVzLnNlbmQocHJvZHVjdHMpXG59KSlcblxuXG5wcm9kdWN0Um91dGVyLmdldCgnL3NlZWQnLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgY29uc3QgY3JlYXRlZFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5pbnNlcnRNYW55KHByb2R1Y3RzKTtcbiAgcmVzLnNlbmQoeyBjcmVhdGVkUHJvZHVjdHMgfSlcbn0pKVxuXG4vKiBHRVQgUFJPRFVDVCBCWSBDQVRFR09SWSAqL1xucHJvZHVjdFJvdXRlci5nZXQoJy9jYXRlZ29yaWVzJywgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgUHJvZHVjdC5maW5kKCkuZGlzdGluY3QoJ2NhdGVnb3J5Jyk7XG4gICAgcmVzLnNlbmQoY2F0ZWdvcmllcyk7XG4gIH0pXG4pO1xuXG4vKiBHRVQgUFJPRFVDVCBCWSBJRCAqL1xucHJvZHVjdFJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gIGlmIChwcm9kdWN0KSB7XG4gICAgcmVzLnNlbmQocHJvZHVjdCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQuJyB9KTtcbiAgfVxufSk7XG5cbi8qIENSRUFURSBORVcgUFJPRFVDVCAqL1xucHJvZHVjdFJvdXRlci5wb3N0KCcvJywgaXNBdXRoLCBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBuZXcgUHJvZHVjdCh7XG4gICAgICBuYW1lOiAnc2FtcGxlIG5hbWUgJyxcbiAgICAgIGltYWdlOiAnL2ltYWdlcy9wMS5qcGcnLFxuICAgICAgcHJpY2U6IDAsXG4gICAgICBjYXRlZ29yeTogJ3NhbXBsZSBjYXRlZ29yeScsXG4gICAgICBicmFuZDogJ3NhbXBsZSBicmFuZCcsXG4gICAgICBjb3VudEluU3RvY2s6IDAsXG4gICAgICBkZXNjcmlwdGlvbjogJ3NhbXBsZSBkZXNjcmlwdGlvbicsXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IENyZWF0ZWQnLCBwcm9kdWN0OiBjcmVhdGVkUHJvZHVjdCB9KTtcbiAgfSlcbik7XG5cbi8qIFVQREFURSBQUk9EVUNUICovXG5wcm9kdWN0Um91dGVyLnB1dCgnLzppZCcsIGlzQXV0aCwgaXNBZG1pbixcbiAgZXhwcmVzc0FzeW5jSGFuZGxlcihhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0SWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHByb2R1Y3RJZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIHByb2R1Y3QubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XG4gICAgICBwcm9kdWN0LmltYWdlID0gcmVxLmJvZHkuaW1hZ2U7XG4gICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XG4gICAgICBwcm9kdWN0LmNvdW50SW5TdG9jayA9IHJlcS5ib2R5LmNvdW50SW5TdG9jaztcbiAgICAgIHByb2R1Y3QuZGVzY3JpcHRpb24gPSByZXEuYm9keS5kZXNjcmlwdGlvbjtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICByZXMuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IFVwZGF0ZWQnLCBwcm9kdWN0OiB1cGRhdGVkUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG4vKiBERUxFVEUgUFJPRFVDVCAqL1xucHJvZHVjdFJvdXRlci5kZWxldGUoJy86aWQnLGlzQXV0aCxpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICBjb25zdCBkZWxldGVQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5yZW1vdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcsIHByb2R1Y3Q6IGRlbGV0ZVByb2R1Y3QgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kJyB9KTtcbiAgICB9XG4gIH0pXG4pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHByb2R1Y3RSb3V0ZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "order",
        "categoryFilter",
        "products",
        "Product",
        "find",
        "send",
        "createdProducts",
        "insertMany",
        "categories",
        "distinct",
        "product",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isAdmin",
        "name",
        "image",
        "price",
        "brand",
        "countInStock",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../models/productModel';\nimport { getToken, isAdmin, isAuth } from '../utils';\nimport data from '../data.js'\n\nconst productRouter = express.Router();\n\n\nproductRouter.get('/', expressAsyncHandler(async (req,res) => {\n  const category = req.query.category || '';\n  const order = req.query.order || '';\n  const categoryFilter = category ? { category } : {};\n  const products = await Product.find({\n    ...categoryFilter\n  })\n  res.send(products)\n}))\n\n\nproductRouter.get('/seed', expressAsyncHandler(async(req,res) => {\n  const createdProducts = await Product.insertMany(products);\n  res.send({ createdProducts })\n}))\n\n/* GET PRODUCT BY CATEGORY */\nproductRouter.get('/categories', expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\n/* GET PRODUCT BY ID */\nproductRouter.get('/:id', async (req, res) => {\n  const product = await Product.findById(req.params.id);\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n});\n\n/* CREATE NEW PRODUCT */\nproductRouter.post('/', isAuth, isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ',\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\n\n/* UPDATE PRODUCT */\nproductRouter.put('/:id', isAuth, isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n/* DELETE PRODUCT */\nproductRouter.delete('/:id',isAuth,isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1614549305124
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      totalPrice: req.body.totalPrice\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwib3JkZXIiLCJPcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJjcmVhdGVkT3JkZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFPQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUVBRixXQUFXLENBQUNHLElBQVosQ0FDRSxHQURGLEVBRUVDLGFBRkYsRUFHRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLE1BQUlELEdBQUcsQ0FBQ0UsSUFBSixDQUFTQyxVQUFULENBQW9CQyxNQUFwQixLQUErQixDQUFuQyxFQUFzQztBQUNwQ0gsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRCxHQUZELE1BRU87QUFDTCxVQUFNQyxLQUFLLEdBQUcsSUFBSUMsbUJBQUosQ0FBVTtBQUN0Qk4sTUFBQUEsVUFBVSxFQUFFSCxHQUFHLENBQUNFLElBQUosQ0FBU0MsVUFEQztBQUV0Qk8sTUFBQUEsZUFBZSxFQUFFVixHQUFHLENBQUNFLElBQUosQ0FBU1EsZUFGSjtBQUd0QkMsTUFBQUEsYUFBYSxFQUFFWCxHQUFHLENBQUNFLElBQUosQ0FBU1MsYUFIRjtBQUl0QkMsTUFBQUEsVUFBVSxFQUFFWixHQUFHLENBQUNFLElBQUosQ0FBU1UsVUFKQztBQUt0QkMsTUFBQUEsYUFBYSxFQUFFYixHQUFHLENBQUNFLElBQUosQ0FBU1csYUFMRjtBQU10QkMsTUFBQUEsVUFBVSxFQUFFZCxHQUFHLENBQUNFLElBQUosQ0FBU1k7QUFOQyxLQUFWLENBQWQ7QUFRQSxVQUFNQyxZQUFZLEdBQUcsTUFBTVAsS0FBSyxDQUFDUSxJQUFOLEVBQTNCO0FBQ0FmLElBQUFBLEdBQUcsQ0FDQUksTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRO0FBQUVDLE1BQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ0MsTUFBQUEsS0FBSyxFQUFFTztBQUF2QyxLQUZSO0FBR0Q7QUFDRixDQWpCRCxDQUhGO2VBd0JlcEIsVyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQge1xuICBpc0FkbWluLFxuICBpc0F1dGgsXG4gIG1haWxndW4sXG4gIHBheU9yZGVyRW1haWxUZW1wbGF0ZSxcbn0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbm9yZGVyUm91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmIChyZXEuYm9keS5vcmRlckl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnQ2FydCBpcyBlbXB0eScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiByZXEuYm9keS5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHJlcS5ib2R5LnBheW1lbnRNZXRob2QsXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "post",
        "isAuth",
        "req",
        "res",
        "body",
        "orderItems",
        "length",
        "status",
        "send",
        "message",
        "order",
        "Order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "createdOrder",
        "save"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAOA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CACE,GADF,EAEEC,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,MAAID,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,MAApB,KAA+B,CAAnC,EAAsC;AACpCH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAG,IAAIC,mBAAJ,CAAU;AACtBN,MAAAA,UAAU,EAAEH,GAAG,CAACE,IAAJ,CAASC,UADC;AAEtBO,MAAAA,eAAe,EAAEV,GAAG,CAACE,IAAJ,CAASQ,eAFJ;AAGtBC,MAAAA,aAAa,EAAEX,GAAG,CAACE,IAAJ,CAASS,aAHF;AAItBC,MAAAA,UAAU,EAAEZ,GAAG,CAACE,IAAJ,CAASU,UAJC;AAKtBC,MAAAA,aAAa,EAAEb,GAAG,CAACE,IAAJ,CAASW,aALF;AAMtBC,MAAAA,UAAU,EAAEd,GAAG,CAACE,IAAJ,CAASY;AANC,KAAV,CAAd;AAQA,UAAMC,YAAY,GAAG,MAAMP,KAAK,CAACQ,IAAN,EAA3B;AACAf,IAAAA,GAAG,CACAI,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,mBAAX;AAAgCC,MAAAA,KAAK,EAAEO;AAAvC,KAFR;AAGD;AACF,CAjBD,CAHF;eAwBepB,W",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../models/orderModel.js';\nimport {\n  isAdmin,\n  isAuth,\n  mailgun,\n  payOrderEmailTemplate,\n} from '../utils.js';\n\nconst orderRouter = express.Router();\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        totalPrice: req.body.totalPrice,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\n\nexport default orderRouter;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614530195936
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/userRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "userRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModels = _interopRequireDefault(require(\"../models/userModels\"));\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await _userModels.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _utils.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      msg: 'Invalid Email or password.'\n    });\n  }\n});\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new _userModels.default({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZXIuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJyZXEiLCJyZXMiLCJzaWduaW5Vc2VyIiwiVXNlciIsImZpbmRPbmUiLCJlbWFpbCIsImJvZHkiLCJwYXNzd29yZCIsInNlbmQiLCJfaWQiLCJpZCIsIm5hbWUiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtc2ciLCJnZXQiLCJ1c2VyIiwibmV3VXNlciIsInNhdmUiLCJlcnJvciIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFHQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekMsUUFBTUMsVUFBVSxHQUFHLE1BQU1DLG9CQUFLQyxPQUFMLENBQWE7QUFDcENDLElBQUFBLEtBQUssRUFBRUwsR0FBRyxDQUFDTSxJQUFKLENBQVNELEtBRG9CO0FBRXBDRSxJQUFBQSxRQUFRLEVBQUVQLEdBQUcsQ0FBQ00sSUFBSixDQUFTQztBQUZpQixHQUFiLENBQXpCOztBQUlBLE1BQUdMLFVBQUgsRUFBZTtBQUNiRCxJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUNQQyxNQUFBQSxHQUFHLEVBQUVQLFVBQVUsQ0FBQ1EsRUFEVDtBQUVQQyxNQUFBQSxJQUFJLEVBQUVULFVBQVUsQ0FBQ1MsSUFGVjtBQUdQTixNQUFBQSxLQUFLLEVBQUVILFVBQVUsQ0FBQ0csS0FIWDtBQUlQTyxNQUFBQSxPQUFPLEVBQUVWLFVBQVUsQ0FBQ1UsT0FKYjtBQUtQQyxNQUFBQSxLQUFLLEVBQUUscUJBQVNYLFVBQVQ7QUFMQSxLQUFUO0FBT0QsR0FSRCxNQVFPO0FBQ0xELElBQUFBLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLEdBQVgsRUFBZ0JOLElBQWhCLENBQXFCO0FBQUNPLE1BQUFBLEdBQUcsRUFBRTtBQUFOLEtBQXJCO0FBQ0Q7QUFDRixDQWhCRDtBQWtCQW5CLE1BQU0sQ0FBQ29CLEdBQVAsQ0FBVyxjQUFYLEVBQTJCLE9BQU9oQixHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDN0MsTUFBSTtBQUNGLFVBQU1nQixJQUFJLEdBQUcsSUFBSWQsbUJBQUosQ0FBUztBQUNwQlEsTUFBQUEsSUFBSSxFQUFFLE9BRGM7QUFFcEJOLE1BQUFBLEtBQUssRUFBRSx1QkFGYTtBQUdwQkUsTUFBQUEsUUFBUSxFQUFFLE1BSFU7QUFJcEJLLE1BQUFBLE9BQU8sRUFBRTtBQUpXLEtBQVQsQ0FBYjtBQU1BLFVBQU1NLE9BQU8sR0FBRyxNQUFNRCxJQUFJLENBQUNFLElBQUwsRUFBdEI7QUFDQWxCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTVSxPQUFUO0FBQ0QsR0FURCxDQVNFLE9BQU9FLEtBQVAsRUFBYztBQUNkbkIsSUFBQUEsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBRU8sTUFBQUEsR0FBRyxFQUFFSyxLQUFLLENBQUNDO0FBQWIsS0FBVDtBQUNEO0FBQ0YsQ0FiRDtlQWVlekIsTSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbHMnO1xuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICcuLi91dGlscydcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuXG5yb3V0ZXIucG9zdCgnL3NpZ25pbicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkXG4gIH0pO1xuICBpZihzaWduaW5Vc2VyKSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgX2lkOiBzaWduaW5Vc2VyLmlkLFxuICAgICAgbmFtZTogc2lnbmluVXNlci5uYW1lLFxuICAgICAgZW1haWw6IHNpZ25pblVzZXIuZW1haWwsXG4gICAgICBpc0FkbWluOiBzaWduaW5Vc2VyLmlzQWRtaW4sXG4gICAgICB0b2tlbjogZ2V0VG9rZW4oc2lnbmluVXNlciksXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bXNnOiAnSW52YWxpZCBFbWFpbCBvciBwYXNzd29yZC4nfSlcbiAgfVxufSlcblxucm91dGVyLmdldCgnL2NyZWF0ZWFkbWluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcbiAgICAgIG5hbWU6ICdTYXJhaCcsXG4gICAgICBlbWFpbDogJ3NhcmFocGFxdWV0QGdtYWlsLmNvbScsXG4gICAgICBwYXNzd29yZDogJ3Rlc3QnLFxuICAgICAgaXNBZG1pbjogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICByZXMuc2VuZChuZXdVc2VyKTsgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnNlbmQoeyBtc2c6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "userRouter.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "signinUser",
        "User",
        "findOne",
        "email",
        "body",
        "password",
        "send",
        "_id",
        "id",
        "name",
        "isAdmin",
        "token",
        "status",
        "msg",
        "get",
        "user",
        "newUser",
        "save",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAGAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMC,UAAU,GAAG,MAAMC,oBAAKC,OAAL,CAAa;AACpCC,IAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASD,KADoB;AAEpCE,IAAAA,QAAQ,EAAEP,GAAG,CAACM,IAAJ,CAASC;AAFiB,GAAb,CAAzB;;AAIA,MAAGL,UAAH,EAAe;AACbD,IAAAA,GAAG,CAACO,IAAJ,CAAS;AACPC,MAAAA,GAAG,EAAEP,UAAU,CAACQ,EADT;AAEPC,MAAAA,IAAI,EAAET,UAAU,CAACS,IAFV;AAGPN,MAAAA,KAAK,EAAEH,UAAU,CAACG,KAHX;AAIPO,MAAAA,OAAO,EAAEV,UAAU,CAACU,OAJb;AAKPC,MAAAA,KAAK,EAAE,qBAASX,UAAT;AALA,KAAT;AAOD,GARD,MAQO;AACLD,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBN,IAAhB,CAAqB;AAACO,MAAAA,GAAG,EAAE;AAAN,KAArB;AACD;AACF,CAhBD;AAkBAnB,MAAM,CAACoB,GAAP,CAAW,cAAX,EAA2B,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,MAAI;AACF,UAAMgB,IAAI,GAAG,IAAId,mBAAJ,CAAS;AACpBQ,MAAAA,IAAI,EAAE,OADc;AAEpBN,MAAAA,KAAK,EAAE,uBAFa;AAGpBE,MAAAA,QAAQ,EAAE,MAHU;AAIpBK,MAAAA,OAAO,EAAE;AAJW,KAAT,CAAb;AAMA,UAAMM,OAAO,GAAG,MAAMD,IAAI,CAACE,IAAL,EAAtB;AACAlB,IAAAA,GAAG,CAACO,IAAJ,CAASU,OAAT;AACD,GATD,CASE,OAAOE,KAAP,EAAc;AACdnB,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEO,MAAAA,GAAG,EAAEK,KAAK,CAACC;AAAb,KAAT;AACD;AACF,CAbD;eAeezB,M",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModels';\nimport { getToken } from '../utils'\n\nconst router = express.Router();\n\n\nrouter.post('/signin', async (req, res) => {\n  const signinUser = await User.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n  if(signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: getToken(signinUser),\n    })\n  } else {\n    res.status(401).send({msg: 'Invalid Email or password.'})\n  }\n})\n\nrouter.get('/createadmin', async (req, res) => {\n  try {\n    const user = new User({\n      name: 'Sarah',\n      email: 'sarahpaquet@gmail.com',\n      password: 'test',\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(newUser); \n  } catch (error) {\n    res.send({ msg: error.message });\n  }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614530222923
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/productRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "productRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _utils = require(\"../utils\");\n\nvar _data = _interopRequireDefault(require(\"../data.js\"));\n\nvar _userModels = _interopRequireDefault(require(\"../models/userModels\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst productRouter = _express.default.Router();\n\nproductRouter.get('/', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const category = req.query.category || '';\n  const order = req.query.order || '';\n  const name = req.query.name || '';\n  const categoryFilter = category ? {\n    category\n  } : {};\n  const nameFilter = name ? {\n    name: {\n      $regex: name,\n      $options: 'i'\n    }\n  } : {};\n  const products = await _productModel.default.find({ ...categoryFilter,\n    ...nameFilter\n  });\n  res.send({\n    products\n  });\n}));\nproductRouter.get('/seed', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const products = _data.default.products.map(product => ({ ...product\n  }));\n\n  const createdProducts = await _productModel.default.insertMany(products);\n  res.send(createdProducts);\n}));\n/* GET PRODUCT BY CATEGORY */\n\nproductRouter.get('/categories', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const categories = await _productModel.default.find().distinct('category');\n  res.send(categories);\n}));\n/* GET PRODUCT BY ID */\n\nproductRouter.get('/:id', (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n}));\n/* CREATE NEW PRODUCT */\n\nproductRouter.post('/', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = new _productModel.default({\n    name: 'sample name ',\n    image: '/images/p1.jpg',\n    price: 0,\n    category: 'sample category',\n    brand: 'sample brand',\n    countInStock: 0,\n    description: 'sample description'\n  });\n  const createdProduct = await product.save();\n  res.send({\n    message: 'Product Created',\n    product: createdProduct\n  });\n}));\n/* UPDATE PRODUCT */\n\nproductRouter.put('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n    res.send({\n      message: 'Product Updated',\n      product: updatedProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\n/* DELETE PRODUCT */\n\nproductRouter.delete('/:id', _utils.isAuth, _utils.isAdmin, (0, _expressAsyncHandler.default)(async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const deleteProduct = await product.remove();\n    res.send({\n      message: 'Product Deleted',\n      product: deleteProduct\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}));\nvar _default = productRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZXIuanMiXSwibmFtZXMiOlsicHJvZHVjdFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJnZXQiLCJyZXEiLCJyZXMiLCJjYXRlZ29yeSIsInF1ZXJ5Iiwib3JkZXIiLCJuYW1lIiwiY2F0ZWdvcnlGaWx0ZXIiLCJuYW1lRmlsdGVyIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwcm9kdWN0cyIsIlByb2R1Y3QiLCJmaW5kIiwic2VuZCIsImRhdGEiLCJtYXAiLCJwcm9kdWN0IiwiY3JlYXRlZFByb2R1Y3RzIiwiaW5zZXJ0TWFueSIsImNhdGVnb3JpZXMiLCJkaXN0aW5jdCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImlzQWRtaW4iLCJpbWFnZSIsInByaWNlIiwiYnJhbmQiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsImNyZWF0ZWRQcm9kdWN0Iiwic2F2ZSIsInB1dCIsInByb2R1Y3RJZCIsImJvZHkiLCJ1cGRhdGVkUHJvZHVjdCIsImRlbGV0ZSIsImRlbGV0ZVByb2R1Y3QiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLGFBQWEsR0FBR0MsaUJBQVFDLE1BQVIsRUFBdEI7O0FBR0FGLGFBQWEsQ0FBQ0csR0FBZCxDQUFrQixHQUFsQixFQUF1QixrQ0FBb0IsT0FBT0MsR0FBUCxFQUFXQyxHQUFYLEtBQW1CO0FBQzVELFFBQU1DLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFKLENBQVVELFFBQVYsSUFBc0IsRUFBdkM7QUFDQSxRQUFNRSxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxLQUFWLElBQW1CLEVBQWpDO0FBQ0EsUUFBTUMsSUFBSSxHQUFHTCxHQUFHLENBQUNHLEtBQUosQ0FBVUUsSUFBVixJQUFrQixFQUEvQjtBQUNBLFFBQU1DLGNBQWMs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QyxjQUFuQyxFQUNFLGtDQUFvQixPQUFPNUIsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1lLE9BQU8sR0FBRyxNQUFNTCxzQkFBUVUsUUFBUixDQUFpQnJCLEdBQUcsQ0FBQ3NCLE1BQUosQ0FBV0MsRUFBNUIsQ0FBdEI7O0FBQ0EsTUFBSVAsT0FBSixFQUFhO0FBQ1gsVUFBTXlCLGFBQWEsR0FBRyxNQUFNekIsT0FBTyxDQUFDMEIsTUFBUixFQUE1QjtBQUNBekMsSUFBQUEsR0FBRyxDQUFDWSxJQUFKLENBQVM7QUFBRVksTUFBQUEsT0FBTyxFQUFFLGlCQUFYO0FBQThCVCxNQUFBQSxPQUFPLEVBQUV5QjtBQUF2QyxLQUFUO0FBQ0QsR0FIRCxNQUdPO0FBQ0x4QyxJQUFBQSxHQUFHLENBQUN1QixNQUFKLENBQVcsR0FBWCxFQUFnQlgsSUFBaEIsQ0FBcUI7QUFBRVksTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRDtBQUNGLENBUkQsQ0FERjtlQWFlN0IsYSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL21vZGVscy9wcm9kdWN0TW9kZWwnO1xuaW1wb3J0IHsgZ2V0VG9rZW4sIGlzQWRtaW4sIGlzQXV0aCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBkYXRhIGZyb20gJy4uL2RhdGEuanMnXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVscydcblxuY29uc3QgcHJvZHVjdFJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxucHJvZHVjdFJvdXRlci5nZXQoJy8nLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEscmVzKSA9PiB7XG4gIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5IHx8ICcnO1xuICBjb25zdCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlciB8fCAnJztcbiAgY29uc3QgbmFtZSA9IHJlcS5xdWVyeS5uYW1lIHx8ICcnO1xuICBjb25zdCBjYXRlZ29yeUZpbHRlciA9IGNhdGVnb3J5ID8geyBjYXRlZ29yeSB9IDoge307XG4gIGNvbnN0IG5hbWVGaWx0ZXIgPSBuYW1lID8geyBuYW1lOiB7ICRyZWdleDogbmFtZSwgJG9wdGlvbnM6ICdpJyB9IH0gOiB7fTtcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoe1xuICAgIC4uLmNhdGVnb3J5RmlsdGVyLFxuICAgIC4uLm5hbWVGaWx0ZXJcbiAgfSlcbiAgcmVzLnNlbmQoe3Byb2R1Y3RzfSlcbn0pKVxuXG5cbnByb2R1Y3RSb3V0ZXIuZ2V0KCcvc2VlZCcsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RzID0gZGF0YS5wcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+ICh7XG4gICAgICAuLi5wcm9kdWN0LFxuICAgIH0pKTtcbiAgY29uc3QgY3JlYXRlZFByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5pbnNlcnRNYW55KHByb2R1Y3RzKTtcbiAgcmVzLnNlbmQoY3JlYXRlZFByb2R1Y3RzKVxufSkpXG5cbi8qIEdFVCBQUk9EVUNUIEJZIENBVEVHT1JZICovXG5wcm9kdWN0Um91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoKS5kaXN0aW5jdCgnY2F0ZWdvcnknKTtcbiAgICByZXMuc2VuZChjYXRlZ29yaWVzKTtcbiAgfSlcbik7XG5cbi8qIEdFVCBQUk9EVUNUIEJZIElEICovXG5wcm9kdWN0Um91dGVyLmdldCgnLzppZCcsIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBQcm9kdWN0LmZpbmRCeUlkKHJlcS5wYXJhbXMuaWQpO1xuICBpZiAocHJvZHVjdCkge1xuICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XG4gIH1cbn0pKTtcblxuLyogQ1JFQVRFIE5FVyBQUk9EVUNUICovXG5wcm9kdWN0Um91dGVyLnBvc3QoJy8nLCBpc0F1dGgsIGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICAgIG5hbWU6ICdzYW1wbGUgbmFtZSAnLFxuICAgICAgaW1hZ2U6ICcvaW1hZ2VzL3AxLmpwZycsXG4gICAgICBwcmljZTogMCxcbiAgICAgIGNhdGVnb3J5OiAnc2FtcGxlIGNhdGVnb3J5JyxcbiAgICAgIGJyYW5kOiAnc2FtcGxlIGJyYW5kJyxcbiAgICAgIGNvdW50SW5TdG9jazogMCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnc2FtcGxlIGRlc2NyaXB0aW9uJyxcbiAgICB9KTtcbiAgICBjb25zdCBjcmVhdGVkUHJvZHVjdCA9IGF3YWl0IHByb2R1Y3Quc2F2ZSgpO1xuICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgQ3JlYXRlZCcsIHByb2R1Y3Q6IGNyZWF0ZWRQcm9kdWN0IH0pO1xuICB9KVxuKTtcblxuLyogVVBEQVRFIFBST0RVQ1QgKi9cbnByb2R1Y3RSb3V0ZXIucHV0KCcvOmlkJywgaXNBdXRoLCBpc0FkbWluLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgcHJvZHVjdC5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICAgIHByb2R1Y3QucHJpY2UgPSByZXEuYm9keS5wcmljZTtcbiAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgIHByb2R1Y3QuY2F0ZWdvcnkgPSByZXEuYm9keS5jYXRlZ29yeTtcbiAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgcHJvZHVjdC5kZXNjcmlwdGlvbiA9IHJlcS5ib2R5LmRlc2NyaXB0aW9uO1xuICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgVXBkYXRlZCcsIHByb2R1Y3Q6IHVwZGF0ZWRQcm9kdWN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdQcm9kdWN0IE5vdCBGb3VuZCcgfSk7XG4gICAgfVxuICB9KVxuKTtcbi8qIERFTEVURSBQUk9EVUNUICovXG5wcm9kdWN0Um91dGVyLmRlbGV0ZSgnLzppZCcsaXNBdXRoLGlzQWRtaW4sXG4gIGV4cHJlc3NBc3luY0hhbmRsZXIoYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZVByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnJlbW92ZSgpO1xuICAgICAgcmVzLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBEZWxldGVkJywgcHJvZHVjdDogZGVsZXRlUHJvZHVjdCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdFJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRouter.js"
      ],
      "names": [
        "productRouter",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "order",
        "name",
        "categoryFilter",
        "nameFilter",
        "$regex",
        "$options",
        "products",
        "Product",
        "find",
        "send",
        "data",
        "map",
        "product",
        "createdProducts",
        "insertMany",
        "categories",
        "distinct",
        "findById",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "isAdmin",
        "image",
        "price",
        "brand",
        "countInStock",
        "description",
        "createdProduct",
        "save",
        "put",
        "productId",
        "body",
        "updatedProduct",
        "delete",
        "deleteProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Product from '../models/productModel';\nimport { getToken, isAdmin, isAuth } from '../utils';\nimport data from '../data.js'\nimport User from '../models/userModels'\n\nconst productRouter = express.Router();\n\n\nproductRouter.get('/', expressAsyncHandler(async (req,res) => {\n  const category = req.query.category || '';\n  const order = req.query.order || '';\n  const name = req.query.name || '';\n  const categoryFilter = category ? { category } : {};\n  const nameFilter = name ? { name: { $regex: name, $options: 'i' } } : {};\n  const products = await Product.find({\n    ...categoryFilter,\n    ...nameFilter\n  })\n  res.send({products})\n}))\n\n\nproductRouter.get('/seed', expressAsyncHandler(async(req,res) => {\n    const products = data.products.map((product) => ({\n      ...product,\n    }));\n  const createdProducts = await Product.insertMany(products);\n  res.send(createdProducts)\n}))\n\n/* GET PRODUCT BY CATEGORY */\nproductRouter.get('/categories', expressAsyncHandler(async (req, res) => {\n    const categories = await Product.find().distinct('category');\n    res.send(categories);\n  })\n);\n\n/* GET PRODUCT BY ID */\nproductRouter.get('/:id', expressAsyncHandler(async (req, res) => {\n  const product = await Product.findById(req.params.id);\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({ message: 'Product Not Found.' });\n  }\n}));\n\n/* CREATE NEW PRODUCT */\nproductRouter.post('/', isAuth, isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = new Product({\n      name: 'sample name ',\n      image: '/images/p1.jpg',\n      price: 0,\n      category: 'sample category',\n      brand: 'sample brand',\n      countInStock: 0,\n      description: 'sample description',\n    });\n    const createdProduct = await product.save();\n    res.send({ message: 'Product Created', product: createdProduct });\n  })\n);\n\n/* UPDATE PRODUCT */\nproductRouter.put('/:id', isAuth, isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n      product.name = req.body.name;\n      product.price = req.body.price;\n      product.image = req.body.image;\n      product.category = req.body.category;\n      product.countInStock = req.body.countInStock;\n      product.description = req.body.description;\n      const updatedProduct = await product.save();\n      res.send({ message: 'Product Updated', product: updatedProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n/* DELETE PRODUCT */\nproductRouter.delete('/:id',isAuth,isAdmin,\n  expressAsyncHandler(async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n      const deleteProduct = await product.remove();\n      res.send({ message: 'Product Deleted', product: deleteProduct });\n    } else {\n      res.status(404).send({ message: 'Product Not Found' });\n    }\n  })\n);\n\n\nexport default productRouter;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1614566358084
  },
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"filename\":\"/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/raphaellepaquet/lighthouse/petitsfruits\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.1": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "/Users/raphaellepaquet/lighthouse/petitsfruits",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/orderRouter.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
        "sourceFileName": "orderRouter.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _expressAsyncHandler = _interopRequireDefault(require(\"express-async-handler\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel.js\"));\n\nvar _utils = require(\"../utils.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst orderRouter = _express.default.Router();\n\norderRouter.post('/', _utils.isAuth, (0, _expressAsyncHandler.default)(async (req, res) => {\n  if (req.body.orderItems.length === 0) {\n    res.status(400).send({\n      message: 'Cart is empty'\n    });\n  } else {\n    const order = new _orderModel.default({\n      orderItems: req.body.orderItems,\n      shippingAddress: req.body.shippingAddress,\n      paymentMethod: req.body.paymentMethod,\n      itemsPrice: req.body.itemsPrice,\n      shippingPrice: req.body.shippingPrice,\n      totalPrice: req.body.totalPrice\n    });\n    const createdOrder = await order.save();\n    res.status(201).send({\n      message: 'New Order Created',\n      order: createdOrder\n    });\n  }\n}));\nvar _default = orderRouter;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGVyLmpzIl0sIm5hbWVzIjpbIm9yZGVyUm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJpc0F1dGgiLCJyZXEiLCJyZXMiLCJib2R5Iiwib3JkZXJJdGVtcyIsImxlbmd0aCIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwib3JkZXIiLCJPcmRlciIsInNoaXBwaW5nQWRkcmVzcyIsInBheW1lbnRNZXRob2QiLCJpdGVtc1ByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJjcmVhdGVkT3JkZXIiLCJzYXZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFPQSxNQUFNQSxXQUFXLEdBQUdDLGlCQUFRQyxNQUFSLEVBQXBCOztBQUVBRixXQUFXLENBQUNHLElBQVosQ0FDRSxHQURGLEVBRUVDLGFBRkYsRUFHRSxrQ0FBb0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLE1BQUlELEdBQUcsQ0FBQ0UsSUFBSixDQUFTQyxVQUFULENBQW9CQyxNQUFwQixLQUErQixDQUFuQyxFQUFzQztBQUNwQ0gsSUFBQUEsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDRCxHQUZELE1BRU87QUFDTCxVQUFNQyxLQUFLLEdBQUcsSUFBSUMsbUJBQUosQ0FBVTtBQUN0Qk4sTUFBQUEsVUFBVSxFQUFFSCxHQUFHLENBQUNFLElBQUosQ0FBU0MsVUFEQztBQUV0Qk8sTUFBQUEsZUFBZSxFQUFFVixHQUFHLENBQUNFLElBQUosQ0FBU1EsZUFGSjtBQUd0QkMsTUFBQUEsYUFBYSxFQUFFWCxHQUFHLENBQUNFLElBQUosQ0FBU1MsYUFIRjtBQUl0QkMsTUFBQUEsVUFBVSxFQUFFWixHQUFHLENBQUNFLElBQUosQ0FBU1UsVUFKQztBQUt0QkMsTUFBQUEsYUFBYSxFQUFFYixHQUFHLENBQUNFLElBQUosQ0FBU1csYUFMRjtBQU10QkMsTUFBQUEsVUFBVSxFQUFFZCxHQUFHLENBQUNFLElBQUosQ0FBU1k7QUFOQyxLQUFWLENBQWQ7QUFRQSxVQUFNQyxZQUFZLEdBQUcsTUFBTVAsS0FBSyxDQUFDUSxJQUFOLEVBQTNCO0FBQ0FmLElBQUFBLEdBQUcsQ0FDQUksTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRO0FBQUVDLE1BQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ0MsTUFBQUEsS0FBSyxFQUFFTztBQUF2QyxLQUZSO0FBR0Q7QUFDRixDQWpCRCxDQUhGO2VBd0JlcEIsVyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvcmFwaGFlbGxlcGFxdWV0L2xpZ2h0aG91c2UvcGV0aXRzZnJ1aXRzL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NBc3luY0hhbmRsZXIgZnJvbSAnZXhwcmVzcy1hc3luYy1oYW5kbGVyJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbC5qcyc7XG5pbXBvcnQge1xuICBpc0FkbWluLFxuICBpc0F1dGgsXG4gIG1haWxndW4sXG4gIHBheU9yZGVyRW1haWxUZW1wbGF0ZSxcbn0gZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBvcmRlclJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbm9yZGVyUm91dGVyLnBvc3QoXG4gICcvJyxcbiAgaXNBdXRoLFxuICBleHByZXNzQXN5bmNIYW5kbGVyKGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmIChyZXEuYm9keS5vcmRlckl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBtZXNzYWdlOiAnQ2FydCBpcyBlbXB0eScgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gbmV3IE9yZGVyKHtcbiAgICAgICAgb3JkZXJJdGVtczogcmVxLmJvZHkub3JkZXJJdGVtcyxcbiAgICAgICAgc2hpcHBpbmdBZGRyZXNzOiByZXEuYm9keS5zaGlwcGluZ0FkZHJlc3MsXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHJlcS5ib2R5LnBheW1lbnRNZXRob2QsXG4gICAgICAgIGl0ZW1zUHJpY2U6IHJlcS5ib2R5Lml0ZW1zUHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNyZWF0ZWRPcmRlciA9IGF3YWl0IG9yZGVyLnNhdmUoKTtcbiAgICAgIHJlc1xuICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgLnNlbmQoeyBtZXNzYWdlOiAnTmV3IE9yZGVyIENyZWF0ZWQnLCBvcmRlcjogY3JlYXRlZE9yZGVyIH0pO1xuICAgIH1cbiAgfSlcbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJSb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "orderRouter.js"
      ],
      "names": [
        "orderRouter",
        "express",
        "Router",
        "post",
        "isAuth",
        "req",
        "res",
        "body",
        "orderItems",
        "length",
        "status",
        "send",
        "message",
        "order",
        "Order",
        "shippingAddress",
        "paymentMethod",
        "itemsPrice",
        "shippingPrice",
        "totalPrice",
        "createdOrder",
        "save"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAOA,MAAMA,WAAW,GAAGC,iBAAQC,MAAR,EAApB;;AAEAF,WAAW,CAACG,IAAZ,CACE,GADF,EAEEC,aAFF,EAGE,kCAAoB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACtC,MAAID,GAAG,CAACE,IAAJ,CAASC,UAAT,CAAoBC,MAApB,KAA+B,CAAnC,EAAsC;AACpCH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD,GAFD,MAEO;AACL,UAAMC,KAAK,GAAG,IAAIC,mBAAJ,CAAU;AACtBN,MAAAA,UAAU,EAAEH,GAAG,CAACE,IAAJ,CAASC,UADC;AAEtBO,MAAAA,eAAe,EAAEV,GAAG,CAACE,IAAJ,CAASQ,eAFJ;AAGtBC,MAAAA,aAAa,EAAEX,GAAG,CAACE,IAAJ,CAASS,aAHF;AAItBC,MAAAA,UAAU,EAAEZ,GAAG,CAACE,IAAJ,CAASU,UAJC;AAKtBC,MAAAA,aAAa,EAAEb,GAAG,CAACE,IAAJ,CAASW,aALF;AAMtBC,MAAAA,UAAU,EAAEd,GAAG,CAACE,IAAJ,CAASY;AANC,KAAV,CAAd;AAQA,UAAMC,YAAY,GAAG,MAAMP,KAAK,CAACQ,IAAN,EAA3B;AACAf,IAAAA,GAAG,CACAI,MADH,CACU,GADV,EAEGC,IAFH,CAEQ;AAAEC,MAAAA,OAAO,EAAE,mBAAX;AAAgCC,MAAAA,KAAK,EAAEO;AAAvC,KAFR;AAGD;AACF,CAjBD,CAHF;eAwBepB,W",
      "sourceRoot": "/Users/raphaellepaquet/lighthouse/petitsfruits/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport expressAsyncHandler from 'express-async-handler';\nimport Order from '../models/orderModel.js';\nimport {\n  isAdmin,\n  isAuth,\n  mailgun,\n  payOrderEmailTemplate,\n} from '../utils.js';\n\nconst orderRouter = express.Router();\n\norderRouter.post(\n  '/',\n  isAuth,\n  expressAsyncHandler(async (req, res) => {\n    if (req.body.orderItems.length === 0) {\n      res.status(400).send({ message: 'Cart is empty' });\n    } else {\n      const order = new Order({\n        orderItems: req.body.orderItems,\n        shippingAddress: req.body.shippingAddress,\n        paymentMethod: req.body.paymentMethod,\n        itemsPrice: req.body.itemsPrice,\n        shippingPrice: req.body.shippingPrice,\n        totalPrice: req.body.totalPrice,\n      });\n      const createdOrder = await order.save();\n      res\n        .status(201)\n        .send({ message: 'New Order Created', order: createdOrder });\n    }\n  })\n);\n\n\nexport default orderRouter;"
      ]
    },
    "sourceType": "script",
    "mtime": 1614530195936
  }
}